<html><head><title>monkey_langref</title><style type="text/css">@import url(https://themes.googleusercontent.com/fonts/css?kit=lhDjYqiy3mZ0x6ROQEUoUw);ol{margin:0;padding:0}p{margin:0}.c21{line-height:1.15;padding-top:18.0pt;text-align:left;direction:ltr;margin:0;padding-bottom:4.0pt}.c0{line-height:1.15;padding-top:0pt;height:11pt;text-align:left;direction:ltr;padding-bottom:0pt}.c11{vertical-align:top;width:321.75pt;border-style:solid;border-color:#000000;border-width:1.0pt;padding:5.0pt 5.0pt 5.0pt 5.0pt}.c12{vertical-align:top;width:146.25pt;border-style:solid;border-color:#000000;border-width:1.0pt;padding:5.0pt 5.0pt 5.0pt 5.0pt}.c13{vertical-align:top;width:234.0pt;border-style:solid;border-color:#000000;border-width:1.0pt;padding:5.0pt 5.0pt 5.0pt 5.0pt}.c10{line-height:1.15;padding-top:12.0pt;text-align:left;direction:ltr;margin:0;padding-bottom:2.0pt}.c23{line-height:1.15;padding-top:18.0pt;text-align:center;direction:ltr;margin:0;padding-bottom:4.0pt}.c7{vertical-align:top;width:156.0pt;border-style:solid;border-color:#000000;border-width:1.0pt;padding:5.0pt 5.0pt 5.0pt 5.0pt}.c5{line-height:1.15;padding-top:0pt;text-align:left;direction:ltr;padding-bottom:0pt}.c6{line-height:1.0;padding-top:0pt;text-align:left;direction:ltr;padding-bottom:0pt}.c22{width:468.0pt;background-color:#ffffff;padding:72.0pt 72.0pt 72.0pt 72.0pt}.c20{list-style-type:disc;margin:0;padding:0}.c16{color:inherit;text-decoration:inherit}.c17{padding-left:0pt;margin-left:36.0pt}.c18{color:#000099;text-decoration:underline}.c25{margin-left:36.0pt}.c4{font-family:Consolas}.c8{font-size:12pt}.c9{text-indent:36.0pt}.c14{font-size:18pt}.c2{height:0pt}.c1{font-weight:bold}.c24{font-family:Courier New}.c27{vertical-align:super}.c26{height:12pt}.c3{font-style:italic}.c15{border-collapse:collapse}.c19{height:11pt}body{color:#000000;font-size:11pt;font-family:Arial}h1{padding-top:24.0pt;color:#000000;font-size:24pt;font-family:Arial;font-weight:bold;padding-bottom:6.0pt}h2{padding-top:18.0pt;color:#000000;font-size:18pt;font-family:Arial;font-weight:bold;padding-bottom:4.0pt}h3{padding-top:14.0pt;color:#000000;font-size:14pt;font-family:Arial;font-weight:bold;padding-bottom:4.0pt}h4{padding-top:12.0pt;color:#000000;font-size:12pt;font-family:Arial;font-weight:bold;padding-bottom:2.0pt}h5{padding-top:11.0pt;color:#000000;font-size:11pt;font-family:Arial;font-weight:bold;padding-bottom:2.0pt}h6{padding-top:10.0pt;color:#000000;font-size:10pt;font-family:Arial;font-weight:bold;padding-bottom:2.0pt}</style></head><body class="c22"><h2 class="c23"><a name="h.8x5sbcdrpkel"></a><img height="56" src="images/image00.png" width="332"></h2><h2 class="c21"><a name="h.vr11wgxf5h3y"></a><span class="c14 c1">Monkey Language Reference</span></h2><h2 class="c21"><a name="h.wpvk9robylkq"></a><span class="c1 c14">Contents</span></h2><p class="c0"><span></span></p><p class="c5"><span class="c18"><a class="c16" href="#id.65mixz157ibg">Introduction</a></span></p><p class="c5"><span class="c18"><a class="c16" href="#id.z4zvma5dz769">Programs and declarations</a></span></p><p class="c5"><span class="c18"><a class="c16" href="#id.1jz2re7y6rz">Strict mode</a></span></p><p class="c5"><span class="c18"><a class="c16" href="#id.t6xvusmvrqt">Comments</a></span></p><p class="c5"><span class="c18"><a class="c16" href="#id.kgzki89eyep9">Identifiers</a></span></p><p class="c5"><span class="c18"><a class="c16" href="#id.evtnrsw7o0jy">Types</a></span></p><p class="c5"><span class="c18"><a class="c16" href="#id.rjki05csbapk">Variables and constants</a></span></p><p class="c5"><span class="c18"><a class="c16" href="#id.v8hib4pkeykx">Expressions</a></span></p><p class="c5"><span class="c18"><a class="c16" href="#id.sesivp5vf5pr">Statements</a></span></p><p class="c5"><span class="c18"><a class="c16" href="#id.vrxks63k1ixz">Functions and methods</a></span></p><p class="c5"><span class="c18"><a class="c16" href="#id.l336e6f8rwmy">Classes and objects</a></span></p><p class="c5"><span class="c18"><a class="c16" href="#id.k8t7lqq0s3cq">Interfaces</a></span></p><p class="c5"><span class="c18"><a class="c16" href="#id.qidnll9w9seb">Modules</a></span></p><p class="c5"><span class="c18"><a class="c16" href="#id.nbp7vz76iwbz">Public and Private</a></span></p><p class="c5"><span class="c18"><a class="c16" href="#id.bmqt1k5tv2qi">External declarations</a></span></p><p class="c5"><span class="c18"><a class="c16" href="#id.9v5yflbc2keu">The preprocessor</a></span></p><hr><a href="#" name="id.65mixz157ibg"></a><h2 class="c21"><a name="h.zaiu3yfjdd3h"></a><span class="c14 c1">Introduction</span></h2><p class="c0"><span></span></p><p class="c5"><span>Monkey is a simple, easy to use, high level programming language with several object oriented features.</span></p><p class="c0"><span></span></p><p class="c5"><span>This manual describes the syntax and general concepts behind the core Monkey language - it does not document any of the Monkey modules. For a complete guide to the Monkey modules (including the mojo game framework module), please refer to the Monkey Module Reference manual.</span></p><p class="c0"><span></span></p><p class="c5"><span>This manual also assumes a degree of familiarity with programming in general, and is not intended to be a &#39;how to program guide&#39; - rather, a &#39;how to program Monkey&#39; one.</span></p><p class="c0"><span></span></p><h4 class="c10"><a name="h.egqv96wuisua"></a><span class="c8 c1">Formatting</span></h4><p class="c0"><span></span></p><p class="c5"><span>A monospaced font is used for program code examples or snippets.</span></p><p class="c0"><span></span></p><p class="c5"><span>Language syntax explanations are generally formatted as follows:<br></span></p><p class="c5"><span>* Anything that appears in </span><span class="c1">Bold</span><span>&nbsp;indicates literal text. For example: </span><span class="c1">Function</span><span>&nbsp;means the actual word &#39;Function&#39;.</span></p><p class="c0"><span></span></p><p class="c5"><span>* Anything that appears in </span><span class="c3">Italics</span><span>&nbsp;indicates other syntax. For example: </span><span class="c3">Identifier</span><span>&nbsp;means any text that is a valid identifier.</span></p><p class="c0"><span></span></p><p class="c5"><span>* Anything that appears in square brackets [ ] is optional. For example: [ </span><span class="c1">Step</span><span>&nbsp;] means the literal text &#39;Step&#39; is optional:</span></p><p class="c0"><span></span></p><p class="c5"><span>* The pipe character | is use for alternatives. For example: </span><span class="c1">To</span><span>&nbsp;| </span><span class="c1">Until</span><span>&nbsp;means you can use </span><span class="c1">To</span><span>&nbsp;or </span><span class="c1">Until</span><span>&nbsp;- but not both.</span></p><p class="c0"><span></span></p><p class="c5"><span>* A three dots ellipsis &hellip; is used to indicate repetition.</span></p><p class="c0"><span></span></p><p class="c5"><span>These rules are not strictly followed. Where it makes sense to do so, syntax may be shown in a simplified form with explanatory notes.</span></p><p class="c0"><span></span></p><hr><a href="#" name="id.z4zvma5dz769"></a><p class="c5"><span class="c14 c1">Programs and declarations</span></p><p class="c0"><span></span></p><p class="c5"><span>A Monkey program consists of one or more modules, each of which is a separate file, consisting of a series of declarations. </span></p><p class="c0"><span></span></p><p class="c5"><span>A declaration associates a &#39;meaning&#39; with an identifier. For example, this declaration:</span></p><p class="c0"><span></span></p><p class="c5"><span class="c4">Global x:Int</span></p><p class="c0"><span></span></p><p class="c5"><span>Indicates that the identifier &#39;x&#39; is a global variable of type &#39;Int&#39; (an integer).</span></p><p class="c0"><span></span></p><p class="c5"><span>Monkey supports the following kinds of declarations:</span></p><p class="c0"><span></span></p><ol class="c20" start="1"><li class="c5 c17"><span>Modules</span></li><li class="c5 c17"><span>Constants</span></li><li class="c5 c17"><span>Local, Global and Field variables</span></li><li class="c5 c17"><span>Classes</span></li><li class="c5 c17"><span>Functions </span></li><li class="c5 c17"><span>Methods</span></li></ol><p class="c0"><span></span></p><p class="c5"><span>A module is itself a kind of declaration and is represented by a single source file. The name of the module is taken from the name of the source file. For example, if your file is named &quot;particles.monkey&quot; then the module will be called &quot;particles&quot;.</span></p><p class="c0"><span></span></p><p class="c5"><span>Modules may &#39;import&#39; other modules, which may in turn import other modules and so on.</span></p><p class="c0"><span></span></p><p class="c5"><span>Every Monkey program has a &#39;main module&#39; that must contain a public function called </span><span class="c1">Main</span><span>&nbsp;that takes no parameters and returns an integer. For example:<br></span></p><p class="c5"><span class="c4">Function Main()</span></p><p class="c5"><span class="c4">End</span></p><p class="c0"><span></span></p><p class="c5"><span>This is the entry point of the program and is where program execution begins. </span></p><p class="c0"><span></span></p><p class="c5"><span>If you are using the mojo framework of modules, you must create a new class (which extends the base mojo.app class) and create a new instance of it in the </span><span class="c1">Main </span><span>function. &nbsp;See the mojo.app Module Reference for more information. &nbsp;An example of this is:</span></p><p class="c0"><span></span></p><p class="c5"><span class="c4">Import mojo.app</span></p><p class="c5"><span class="c4">Import mojo.graphics<br><br>Class MyApp Extends App<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Method OnRender()<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DrawText &quot;Hello World!&quot;,0,0<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;End<br>End<br><br>Function Main()<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;New MyApp<br>End</span></p><hr><a href="#" name="id.1jz2re7y6rz"></a><h2 class="c21"><a name="h.jp7t0-trd4rh"></a><span class="c14 c1">Strict mode</span></h2><p class="c0"><span></span></p><p class="c5"><span>By default, Monkey allows you to take certain shortcuts when programming.</span></p><p class="c0"><span></span></p><p class="c5"><span>However, Monkey also offers a special </span><span class="c1">Strict</span><span>&nbsp;mode for programmers who prefer a stricter language definition.</span></p><p class="c0"><span></span></p><p class="c5"><span>The differences between strict and non-strict mode are:</span></p><p class="c0"><span></span></p><p class="c5"><span>* In non-strict mode, variable type, function return type and function parameter types can be optionally omitted. In this case they will default to </span><span class="c1">Int</span><span>. In strict mode, you must always specify the type of all variables, functions return values and function parameters.</span></p><p class="c0"><span></span></p><p class="c5"><span>* In non-strict mode, </span><span class="c1">Return</span><span>&nbsp;statements can be omitted at the end of a function. In this case, a </span><span class="c1">Return</span><span>&nbsp;statement will be automatically generated that will return an appropriate default value for the function type. That is, </span><span class="c1">False</span><span>&nbsp;for bool, </span><span class="c1">0</span><span>&nbsp;for int and float, &quot;&quot; for string, </span><span class="c1">[]</span><span>&nbsp;for arrays and </span><span class="c1">Null</span><span>&nbsp;for objects. In strict mode, a function that does not return </span><span class="c1">Void</span><span>&nbsp;must end with a </span><span class="c1">Return</span><span>&nbsp;statement.</span></p><p class="c0"><span></span></p><p class="c5"><span>* In non-strict mode, the brackets around function call parameters are optional if the function is being used as a statement, or if the function can be called with no parameters. In strict mode, all function call parameters must be enclosed in brackets.</span></p><p class="c0"><span></span></p><p class="c5"><span>To use strict mode, a </span><span class="c1">Strict</span><span>&nbsp;directive must be placed at the very top of your module.</span></p><p class="c0"><span></span></p><p class="c5"><span>For example:</span></p><p class="c0"><span></span></p><p class="c5"><span class="c4">Strict</span></p><p class="c0"><span class="c4"></span></p><p class="c5"><span class="c4">Function Main:Int()&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;in Strict mode, the :Int type definition is compulsory</span></p><p class="c5 c9"><span class="c4">Print( &quot;Strict mode is...different!&quot; )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;in Strict mode, all function calls require brackets.</span></p><p class="c5 c9"><span class="c4">Return 0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;in strict mode, we MUST return a value.<br>End</span></p><p class="c0"><span></span></p><p class="c5"><span>The examples in this document will be presented in non-strict form.</span></p><p class="c0"><span></span></p><hr><a href="#" name="id.t6xvusmvrqt"></a><p class="c5"><span class="c14 c1">Comments</span></p><p class="c0"><span></span></p><p class="c5"><span>You can add line comments to your programs using the &#39;</span><span class="c1">&nbsp;</span><span>(apostrophe) character. Everything following the &#39; character until the end of the line will be ignored.</span></p><p class="c0"><span></span></p><p class="c5"><span>You can add block comments to your programs using </span><span class="c1">#rem</span><span>&nbsp;and </span><span class="c1">#end</span><span>. These must appear at the start of a new line, although they may optionally have whitespace characters in front. Everything between </span><span class="c1">#rem</span><span>&nbsp;and </span><span class="c1">#end</span><span>&nbsp;will be ignored. Block comments can also be nested.</span></p><p class="c0"><span></span></p><p class="c5"><span>Here is an example of using comments:</span></p><p class="c0"><span></span></p><p class="c5"><span class="c4">Print &quot;Hello World&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;This is a line comment!<br>#rem&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;start of a block comment</span></p><p class="c5"><span class="c4">Print &quot;The sound of silence!&quot;</span></p><p class="c5"><span class="c4">#end&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;end of a block comment</span></p><p class="c0"><span class="c4"></span></p><hr><a href="#" name="id.kgzki89eyep9"></a><p class="c5"><span class="c14 c1">Identifiers</span></p><p class="c0"><span></span></p><p class="c5"><span>Identifiers must start with an alphabetic character, or a single underscore followed by an alphabetic character. The rest of the identifier may contain any combination of alphanumeric characters and/or underscores.</span></p><p class="c0"><span></span></p><p class="c5"><span>Identifiers are case sensitive (except for language keywords - see below). For example, </span><span class="c4">player, Player, PLAYER </span><span>and </span><span class="c4">PLayER </span><span>are all different identifiers. This allows you to reuse the same name for different purposes. For example, </span><span class="c1">Actor</span><span>&nbsp;may refer to a class while</span><span class="c1">&nbsp;actor</span><span>&nbsp;refers to an object of that class.</span></p><p class="c0"><span></span></p><p class="c5"><span>Here are some examples of valid Monkey identifiers:<br></span></p><p class="c5"><span class="c4">score</span></p><p class="c5"><span class="c4">player1</span></p><p class="c5"><span class="c4">player_up</span></p><p class="c5"><span class="c4">_internal</span></p><p class="c5"><span class="c4">helloworld</span></p><p class="c5"><span class="c4">HelloWorld</span></p><p class="c0"><span class="c24"></span></p><p class="c0"><span class="c24"></span></p><p class="c5"><span class="c8 c1">Language keywords and reserved identifiers</span></p><p class="c0"><span></span></p><p class="c5"><span>The following identifiers are language keywords and are reserved for use by the Monkey language:</span></p><p class="c0"><span></span></p><p class="c5"><span class="c4">Void Strict Public Private Propery Bool Int Float String Array Object Mod Continue Exit Include Import Extern New Self Super EachIn True False Not Extends Abstract Select Case Default Const Local Global Field Method Function Class And Or Shl Shr End If Then Else ElseIf EndIf While Wend Repeat Until Forever For To Step Next Return Module Interface Implements Inline Array</span></p><p class="c0"><span></span></p><p class="c5"><span>Language keywords are case insensitive - for example, you may use the keyword </span><span class="c1">function</span><span>, </span><span class="c1">Function</span><span>&nbsp;or indeed even </span><span class="c1">fUNCTION</span><span>&nbsp;(not recommended) to declare a function.</span></p><p class="c0"><span></span></p><p class="c5"><span>The keywords </span><span class="c1">Module, Interface</span><span>, </span><span class="c1">Implements</span><span>, </span><span class="c1">Inline</span><span>&nbsp;and </span><span class="c1">Array</span><span>&nbsp;are not currently used by the Monkey language but are reserved for future use.</span></p><p class="c0"><span></span></p><h4 class="c10"><a name="h.u0dbn726o276"></a><span class="c8 c1">Monkey naming convention</span></h4><p class="c0"><span></span></p><p class="c5"><span>The standard Monkey modules use a simple naming convention:</span></p><p class="c0"><span></span></p><p class="c5"><span>All-caps case (eg: &#39;ALLCAPS&#39; ):</span></p><p class="c0"><span></span></p><ol class="c20" start="1"><li class="c5 c17"><span>Constants</span></li></ol><p class="c0"><span></span></p><p class="c5"><span>Pascal case (eg: &#39;PascalCase&#39; ):</span></p><p class="c0"><span></span></p><ol class="c20" start="1"><li class="c5 c17"><span>Classes</span></li><li class="c5 c17"><span>Globals</span></li><li class="c5 c17"><span>Functions, methods and properties.</span></li></ol><p class="c0"><span></span></p><p class="c5"><span>Camel case (eg: &#39;camelCase&#39; ):</span></p><p class="c0"><span></span></p><ol class="c20" start="1"><li class="c5 c17"><span>Fields</span></li></ol><ol class="c20" start="1"><li class="c5 c17"><span>Locals and function parameters</span></li></ol><p class="c0"><span></span></p><p class="c5"><span>You are of course free to use your own convention, but for the sake of consistency it is recommended that this convention be used for the public interface of any modules you create intended for use by the Monkey community.</span></p><p class="c0"><span></span></p><hr><a href="#" name="id.evtnrsw7o0jy"></a><p class="c5"><span class="c14 c1">Types</span></p><p class="c0"><span></span></p><p class="c5"><span>Monkey is a statically typed language, which means that all variables, function parameters, function return values and expressions have an associated type that is known at compile time.</span></p><p class="c0"><span></span></p><p class="c5"><span>The following types are supported:</span></p><p class="c0"><span></span></p><ol class="c20" start="1"><li class="c5 c17"><span>Boolean</span></li><li class="c5 c17"><span>Integer</span></li><li class="c5 c17"><span>Floating point</span></li><li class="c5 c17"><span>String</span></li><li class="c5 c17"><span>Array</span></li><li class="c5 c17"><span>Object</span></li></ol><p class="c0"><span></span></p><h4 class="c10"><a name="h.ygh25w-y1wtoe"></a><span class="c8 c1">The Bool type</span></h4><p class="c0"><span></span></p><p class="c5"><span>Values of type </span><span class="c1">Bool</span><span>&nbsp;are boolean values used to express the result of conditional expressions, such as the comparison operators, and to represent a true/false &#39;state&#39; in general. &nbsp;A boolean value can only be either </span><span class="c1">True</span><span>&nbsp;or </span><span class="c1">False</span><span>. </span></p><p class="c0"><span></span></p><p class="c5"><span>The syntax used for declaring values and variables of boolean type is </span><span class="c1">Bool</span><span>. &nbsp;For example:</span></p><p class="c0"><span></span></p><p class="c5"><span class="c4">Local gamePaused:Bool = False</span></p><p class="c0"><span class="c4"></span></p><p class="c5"><span>Boolean values are usually generated by the use of the comparison operators, for example:</span></p><p class="c0"><span></span></p><p class="c5"><span class="c4">If livesLeft&lt;&gt;0</span></p><p class="c5"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;doSomething()</span></p><p class="c5"><span class="c4">End</span></p><p class="c0"><span></span></p><p class="c5"><span>However, in some circumstances Monkey will automatically convert a non-bool value to bool. This will occur when evaluating an expression for use with the </span><span class="c1">If</span><span>&nbsp;or </span><span class="c1">While</span><span>&nbsp;statements; the </span><span class="c1">Until</span><span>&nbsp;part of a </span><span class="c1">Repeat</span><span>&nbsp;loop; and when evaluating the arguments for the </span><span class="c1">Not</span><span>, </span><span class="c1">Or</span><span>&nbsp;and </span><span class="c1">And</span><span>&nbsp;operators. For example:</span></p><p class="c0"><span></span></p><p class="c5"><span class="c4">If livesLeft</span></p><p class="c5"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;doSomething()</span></p><p class="c5"><span class="c4">End</span></p><p class="c0"><span></span></p><p class="c5"><span>See the conversions section in the expressions chapter for more information.</span></p><p class="c0"><span></span></p><h4 class="c10"><a name="h.u7y0u5-j69le4"></a><span class="c8 c1">The Int type</span></h4><p class="c0"><span></span></p><p class="c5"><span>Values of type </span><span class="c1">Int</span><span>&nbsp;are signed integer values - that is, values with no fractional part. The range of integer values supported is target dependent, but is at least 32 bits. A 32 bit int can represent a range of values from: &minus;2,147,483,648 to 2,147,483,647</span></p><p class="c0"><span></span></p><p class="c5"><span>The syntax used for declaring values and variables of integer type is </span><span class="c1">Int</span><span>. For example:</span></p><p class="c0"><span></span></p><p class="c5"><span class="c4">Local x:Int = 5</span></p><p class="c0"><span></span></p><p class="c5"><span>Integer literals are sequences of digits without a fractional part. Hexadecimal literals are also supported with the </span><span class="c1">$</span><span>&nbsp;prefix. For example, the following are all valid integer literals:</span></p><p class="c0"><span></span></p><p class="c5"><span class="c4">0</span></p><p class="c5"><span class="c4">1234</span></p><p class="c5"><span class="c4">$3D0DEAD</span></p><p class="c5"><span class="c4">$CAFEBABE</span></p><p class="c0"><span></span></p><p class="c5"><span class="c8 c1">The Float type</span></p><p class="c0"><span></span></p><p class="c5"><span>Values of type </span><span class="c1">Float</span><span>&nbsp;are signed numeric values with both an integer and fractional part. The range of floating point values support is target dependent, but is at least 32 bits.</span></p><p class="c0"><span></span></p><p class="c5"><span>The syntax used for declaring values and variables of floating point type is </span><span class="c1">Float</span><span>. &nbsp;For example:</span></p><p class="c0"><span class="c4"></span></p><p class="c5"><span class="c4">Local gravity:Float = 9.81</span></p><p class="c0"><span></span></p><p class="c5"><span>Floating point literals are sequences of digits that include a fractional part, for example:</span></p><p class="c0"><span></span></p><p class="c5"><span class="c4">.0</span></p><p class="c5"><span class="c4">0.0</span></p><p class="c5"><span class="c4">.5</span></p><p class="c5"><span class="c4">0.5</span></p><p class="c5"><span class="c4">1.0</span></p><p class="c5"><span class="c4">1.5</span></p><p class="c5"><span class="c4">1.00001</span></p><p class="c5"><span class="c4">3.14159265</span></p><p class="c0"><span class="c4"></span></p><p class="c5"><span class="c8 c1">The String type</span></p><p class="c0"><span></span></p><p class="c5"><span>Values of type </span><span class="c1">String </span><span>are used to represent sequences of characters, such as text. The size of each character in a string value is target dependent, but is at least 8 bits.</span></p><p class="c0"><span></span></p><p class="c5"><span>The syntax used for declaring values and variables of string type is </span><span class="c1">String</span><span>. For example:</span></p><p class="c0"><span></span></p><p class="c5"><span class="c4">Local name:String = &quot;John Smith&quot;</span></p><p class="c0"><span></span></p><p class="c5"><span>Strings are </span><span class="c3">immutable</span><span>&nbsp;meaning that once they are created they cannot be modified. Operations that &#39;modify&#39; a string will always return a new string.</span></p><p class="c0"><span></span></p><p class="c5"><span>String literals are sequences of characters enclosed in &quot;&quot; (quotation marks). String literals may also include </span><span class="c3">escape sequences</span><span>&nbsp;- special sequences of characters used to represent unprintable characters.</span></p><p class="c0"><span></span></p><p class="c5"><span>You can use the following escape sequences in string literals:</span></p><p class="c0"><span></span></p><table cellpadding="0" cellspacing="0" class="c15"><tbody><tr class="c2"><td class="c13"><p class="c6"><span>Escape sequence</span></p></td><td class="c13"><p class="c6"><span>Character code</span></p></td></tr><tr class="c2"><td class="c13"><p class="c6"><span>~q</span></p></td><td class="c13"><p class="c6"><span>34 (quotation mark &quot;)</span></p></td></tr><tr class="c2"><td class="c13"><p class="c6"><span>~n</span></p></td><td class="c13"><p class="c6"><span>10 (newline)</span></p></td></tr><tr class="c2"><td class="c13"><p class="c6"><span>~r</span></p></td><td class="c13"><p class="c6"><span>13 (return)</span></p></td></tr><tr class="c2"><td class="c13"><p class="c6"><span>~t</span></p></td><td class="c13"><p class="c6"><span>9 (tab)</span></p></td></tr><tr class="c2"><td class="c13"><p class="c6"><span>~z</span></p></td><td class="c13"><p class="c6"><span>0 (null)</span></p></td></tr><tr class="c2"><td class="c13"><p class="c6"><span>~~</span></p></td><td class="c13"><p class="c6"><span>126 (tilde char </span><span class="c1">~</span><span>)</span></p></td></tr></tbody></table><p class="c0"><span></span></p><p class="c0 c9"><span></span></p><p class="c5"><span>Here are some examples of string literals:<br></span></p><p class="c5"><span class="c4">&quot;Hello World&quot;</span></p><p class="c5"><span class="c4">&quot;~qHello World~q&quot;</span></p><p class="c5"><span class="c4">&quot;~tIndented~n&quot;</span></p><p class="c0"><span></span></p><p class="c5"><span>Strings can also be </span><span class="c3">indexed</span><span>&nbsp;and </span><span class="c3">sliced</span><span>.</span></p><p class="c0"><span></span></p><p class="c5"><span>The syntax for indexing a string is: </span><span class="c3">StringExpression </span><span class="c1">[</span><span>&nbsp;</span><span class="c3">IndexExpression</span><span>&nbsp;</span><span class="c1">]</span></p><p class="c0"><span></span></p><p class="c5"><span>Indexing a string returns the character code of the character at </span><span class="c3">IndexExpression</span><span>. Index 0 is the first character in the string.</span></p><p class="c0"><span></span></p><p class="c5"><span class="c3">IndexExpression</span><span>&nbsp;must be greater than or equal to 0 and less than the length of </span><span class="c3">StringExpression</span><span>&nbsp;otherwise an error occurs.</span></p><p class="c0"><span></span></p><p class="c5"><span>Here are some examples of indexing a string:</span></p><p class="c0"><span></span></p><p class="c5"><span class="c4">Print &quot;ABC&quot;[0]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;prints 65 - the character code of &#39;A&#39;</span></p><p class="c5"><span class="c4">Print &quot;ABC&quot;[1]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;prints 66 - the character code of &#39;B&#39;</span></p><p class="c5"><span class="c4">Print &quot;Hi~n&quot;[2]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;prints 10 - the character code of &#39;~n&#39;</span></p><p class="c0"><span></span></p><p class="c5"><span>The syntax for slicing a string is: </span><span class="c3">StringExpression</span><span>&nbsp;</span><span class="c1">[</span><span>&nbsp; </span><span class="c3">StartExpression</span><span>&nbsp;</span><span class="c1">..</span><span>&nbsp;</span><span class="c3">EndExpression</span><span>&nbsp;</span><span class="c1">]</span></p><p class="c0"><span></span></p><p class="c5"><span>Slicing a string returns a new string consisting of the characters within </span><span class="c3">StringExpression</span><span>&nbsp;starting at index </span><span class="c3">StartExpression</span><span>&nbsp;and ending at index </span><span class="c3">EndExpression</span><span>.</span></p><p class="c0"><span></span></p><p class="c5"><span>Both </span><span class="c3">StartExpression</span><span>&nbsp;and </span><span class="c3">EndExpression</span><span>&nbsp;are optional. If </span><span class="c3">StartExpression</span><span>&nbsp;is omitted, it defaults to 0. If </span><span class="c3">EndExpression</span><span>&nbsp;is omitted, it defaults to the length of the string.</span></p><p class="c0"><span></span></p><p class="c5"><span class="c3">StartExpression</span><span>&nbsp;and </span><span class="c3">EndExpression</span><span>&nbsp;can also be negative, in which case they refer to offsets from the end of the string.</span></p><p class="c0"><span></span></p><p class="c5"><span>Here are some examples of slicing a string:</span></p><p class="c0"><span></span></p><p class="c5"><span class="c4">Print &quot;Hello World&quot;[4..7]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;prints &quot;o W&#39;</span></p><p class="c5"><span class="c4">Print &quot;Hello World&quot;[..5]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;prints &quot;Hello&quot;</span></p><p class="c5"><span class="c4">Print &quot;Hello World&quot;[5..]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;prints &quot;World&quot;</span></p><p class="c5"><span class="c4">Print &quot;Hello World&quot;[..]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;prints &quot;Hello World&quot;</span></p><p class="c0"><span></span></p><p class="c5"><span>Strings also support a number of pseudo methods and functions:</span></p><p class="c0"><span></span></p><table cellpadding="0" cellspacing="0" class="c15"><tbody><tr class="c2"><td class="c13"><p class="c6"><span>Method </span><span class="c1">Length</span><span>() Property</span></p></td><td class="c13"><p class="c6"><span>Returns the number of characters in the string.</span></p></td></tr><tr><td class="c13"><p class="c6"><span>Method </span><span class="c1">Compare</span><span>( </span><span class="c1">str</span><span>:String )</span></p></td><td class="c13"><p class="c6"><span>Returns a value &lt;0 if the current string is less than </span><span class="c1">str</span><span>, a value&gt;0 if the current string is greater than </span><span class="c1">str</span><span>&nbsp;or 0 if this string is equal to </span><span class="c1">str</span><span>.</span></p></td></tr><tr class="c2"><td class="c13"><p class="c6"><span>Method </span><span class="c1">Find</span><span>( </span><span class="c1">subString</span><span>:String )</span></p></td><td class="c13"><p class="c6"><span>Returns the index of the first occurance of </span><span class="c1">subString</span><span>&nbsp;within the current string.</span></p></td></tr><tr class="c2"><td class="c13"><p class="c6"><span>Method </span><span class="c1">Find</span><span>( </span><span class="c1">subString</span><span>:String, </span><span class="c1">startIndex</span><span>&nbsp;)</span></p></td><td class="c13"><p class="c6"><span>Returns the index of the first occurance of </span><span class="c1">subString</span><span>&nbsp;within the current string, starting at index </span><span class="c1">startIndex</span><span>.</span></p></td></tr><tr class="c2"><td class="c13"><p class="c6"><span>Method </span><span class="c1">FindLast</span><span>( </span><span class="c1">subString</span><span>:String )</span></p></td><td class="c13"><p class="c6"><span>Returns the index of the last occurance of </span><span class="c1">subString</span><span>&nbsp;within the current string.</span></p></td></tr><tr class="c2"><td class="c13"><p class="c6"><span>Method </span><span class="c1">FindLast</span><span>( </span><span class="c1">subString</span><span>:String, </span><span class="c1">startIndex</span><span>&nbsp;)</span></p></td><td class="c13"><p class="c6"><span>Returns the index of the last occurance of </span><span class="c1">subString</span><span>&nbsp;within the current string, starting at index </span><span class="c1">startIndex</span><span>.</span></p></td></tr><tr class="c2"><td class="c13"><p class="c6"><span>Method </span><span class="c1">Contains</span><span>( </span><span class="c1">subString</span><span>:String )</span></p></td><td class="c13"><p class="c6"><span>Returns true if the current string contains </span><span class="c1">subString</span><span>.</span></p></td></tr><tr class="c2"><td class="c13"><p class="c6"><span>Method </span><span class="c1">StartsWith</span><span>( </span><span class="c1">subString</span><span>:String )</span></p></td><td class="c13"><p class="c6"><span>Returns true if the current string starts with </span><span class="c1">subString</span><span>.</span></p></td></tr><tr class="c2"><td class="c13"><p class="c6"><span>Method </span><span class="c1">EndsWith</span><span>( </span><span class="c1">subString</span><span>:String )</span></p></td><td class="c13"><p class="c6"><span>Returns true if the current string ends with </span><span class="c1">subString</span><span>.</span></p></td></tr><tr class="c2"><td class="c13"><p class="c6"><span>Method </span><span class="c1">ToLower</span><span>:String()</span></p></td><td class="c13"><p class="c6"><span>Returns the current string converted to lowercase.</span></p></td></tr><tr class="c2"><td class="c13"><p class="c6"><span>Method </span><span class="c1">ToUpper</span><span>:String()</span></p></td><td class="c13"><p class="c6"><span>Returns the current string converted to uppercase.</span></p></td></tr><tr class="c2"><td class="c13"><p class="c6"><span>Method </span><span class="c1">Trim</span><span>:String()</span></p></td><td class="c13"><p class="c6"><span>Returns the current string with all leading and trailing whitespace characters removed.</span></p></td></tr><tr class="c2"><td class="c13"><p class="c6"><span>Method </span><span class="c1">Split</span><span>:String[]( </span><span class="c1">separator</span><span>:String )</span></p></td><td class="c13"><p class="c6"><span>Returns an array of strings that contains the substrings in the current string deliminated by </span><span class="c1">separator</span><span>.</span></p></td></tr><tr class="c2"><td class="c13"><p class="c6"><span>Method </span><span class="c1">Join</span><span>:String( </span><span class="c1">pieces</span><span>:String[] )</span></p></td><td class="c13"><p class="c6"><span>Returns the elements of </span><span class="c1">pieces</span><span>&nbsp;concatened together with the current string inserted between each substring.</span></p></td></tr><tr class="c2"><td class="c13"><p class="c6"><span>Function </span><span class="c1">FromChar</span><span>:String( </span><span class="c1">char</span><span>&nbsp;)</span></p></td><td class="c13"><p class="c6"><span>Returns a string of length 1 consisting of a single character code.</span></p></td></tr></tbody></table><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c5"><span>For example:</span></p><p class="c0"><span></span></p><p class="c5"><span class="c4">Print &quot; &nbsp;Hello World &nbsp;~n&quot;.Trim()&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;prints &quot;Hello World&quot;</span></p><p class="c5"><span class="c4">Print &quot;Hello World&quot;.ToUpper()&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;prints &quot;HELLO WORLD&quot;</span></p><p class="c0"><span></span></p><p class="c5"><span class="c8 c1">The Array type</span></p><p class="c0"><span></span></p><p class="c5"><span>An array is a linear sequence of values that can be addressed using an integer index.</span></p><p class="c0 c9"><span></span></p><p class="c5"><span>Each array has an associated </span><span class="c3">element type</span><span>&nbsp;- that is, the type of the elements actually contained in the array. Due to the nature of Monkey, an array&#39;s element type is a purely static property. It is only known at compile time so arrays cannot be &#39;downcast&#39; at runtime.</span></p><p class="c0"><span></span></p><p class="c5"><span>The syntax used for declaring values and variables of array type is: &nbsp;</span><span class="c3">&lt;ElementType&gt; </span><span class="c1">[]</span></p><p class="c0"><span></span></p><p class="c5"><span>For example:</span></p><p class="c0"><span></span></p><p class="c5"><span class="c4">Local box:Int[]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;an array of ints</span></p><p class="c5"><span class="c4">Local ratio:Float[]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;an array of floats</span></p><p class="c5"><span class="c4">Local thing:Int[][]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;an array of arrays of ints</span></p><p class="c0"><span class="c1"></span></p><p class="c5"><span>An array literal is a (possibly empty) comma separated sequence of expressions enclosed with </span><span class="c1">[ </span><span>and </span><span class="c1">]</span><span>. The expressions used in an array literal must be of the same type. For example:</span></p><p class="c0 c9"><span></span></p><p class="c5"><span class="c4">Local box:Int[]=[]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;an empty array literal</span></p><p class="c5"><span class="c4">Local score:Int[]=[10,20,30]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;a comma separated sequence</span></p><p class="c5"><span class="c4">Local text:String[]=[&quot;Hello&quot;,&quot;There&quot;,&quot;World&quot;]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;a comma separated sequence</span></p><p class="c0"><span></span></p><p class="c5"><span>The syntax for indexing an array is: </span><span class="c3">ArrayExpression </span><span class="c1">[</span><span>&nbsp;</span><span class="c3">IndexExpression</span><span>&nbsp;</span><span class="c1">]</span><span>. </span><span class="c1">&nbsp;</span><span>For example:</span></p><p class="c0"><span></span></p><p class="c5"><span class="c4">Local score:Int[]=[10,20,30]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;a comma separated sequence</span></p><p class="c5"><span class="c4">Print score[1]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;prints &quot;20&quot;</span></p><p class="c5"><span class="c1"><br></span><span>Indexing an array yields a &#39;pseudo variable&#39; of the array&#39;s element type that can be both read from and written to.</span></p><p class="c0"><span></span></p><p class="c5"><span class="c3">IndexExpression</span><span>&nbsp;must be an integer expression greater than or equal to 0 and less than the length of </span><span class="c3">ArrayExpression</span><span>&nbsp;otherwise an error occurs.</span></p><p class="c0"><span></span></p><p class="c5"><span>Like strings, arrays can also be sliced. The syntax for slicing an array is: </span><span class="c3">ArrayExpression</span><span>&nbsp;</span><span class="c1">[</span><span>&nbsp; </span><span class="c3">StartExpression</span><span>&nbsp;</span><span class="c1">..</span><span>&nbsp;</span><span class="c3">EndExpression</span><span>&nbsp;</span><span class="c1">]</span></p><p class="c0"><span></span></p><p class="c5"><span>Slicing an array returns &#39;sub array&#39; of </span><span class="c3">ArrayExpression</span><span>&nbsp;starting at index </span><span class="c3">StartExpression</span><span>&nbsp;and ending at index </span><span class="c3">EndExpression</span><span>.</span></p><p class="c0"><span></span></p><p class="c5"><span>Both </span><span class="c3">StartExpression</span><span>&nbsp;and </span><span class="c3">EndExpression</span><span>&nbsp;are optional. If </span><span class="c3">StartExpression</span><span>&nbsp;is omitted, it defaults to 0. If </span><span class="c3">EndExpression</span><span>&nbsp;is omitted, it defaults to the length of the array.</span></p><p class="c0"><span></span></p><p class="c5"><span class="c3">StartExpression</span><span>&nbsp;and </span><span class="c3">EndExpression</span><span>&nbsp;can also be negative, in which case they refer to offsets from the end of the array.</span></p><p class="c0"><span></span></p><p class="c5"><span>Here is an example of slicing an array:</span></p><p class="c0"><span></span></p><p class="c5"><span class="c4">Local text:String[]=[&quot;Hello&quot;,&quot;There&quot;,&quot;World&quot;]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;a comma separated sequence</span></p><p class="c5"><span class="c4">local shorterText:String[] = text[..1]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;contains[&quot;Hello&quot;,&quot;There&quot;]. Note how an Index Expression of 1 returns the first and second strings in the array.</span></p><p class="c0"><span></span></p><p class="c5"><span>Arrays also support a number of pseudo methods:</span></p><p class="c0"><span></span></p><table cellpadding="0" cellspacing="0" class="c15"><tbody><tr class="c2"><td class="c13"><p class="c6"><span>Method </span><span class="c1">Length</span><span>() Property</span></p></td><td class="c13"><p class="c6"><span>The number of elements in the array</span></p></td></tr><tr class="c2"><td class="c13"><p class="c6"><span>Method </span><span class="c1">Resize</span><span>:Array( </span><span class="c1">newLength</span><span>&nbsp;)</span></p></td><td class="c13"><p class="c6"><span>Copies the elements of the current array into a new array of length </span><span class="c1">newLength</span><span>, and returns the new array.</span></p></td></tr></tbody></table><p class="c0"><span></span></p><p class="c5"><span>For example:</span></p><p class="c0"><span></span></p><p class="c5"><span class="c4">Local text:String[]=[&quot;Hello&quot;,&quot;There&quot;,&quot;World&quot;]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;a comma separated sequence</span></p><p class="c5"><span class="c4">Print text.Length&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;prints 2</span></p><p class="c0"><span class="c4"></span></p><p class="c5"><span class="c8 c1">The Object type</span></p><p class="c0"><span></span></p><p class="c5"><span>An object is an instance of a </span><span class="c3">class</span><span>, and contains a set of constants, variables, methods and functions.</span></p><p class="c0"><span></span></p><p class="c5"><span>The syntax used for declaring values and variables of object type is: </span><span class="c3">ClassIdentifier</span></p><p class="c0"><span></span></p><p class="c5"><span>For example:</span></p><p class="c0"><span></span></p><p class="c5"><span class="c4">Local mine:MyClass = New MyClass</span></p><p class="c5"><span><br>Please see the &#39;objects and classes&#39; section for more information on declaring classes and creating objects.</span></p><p class="c0"><span></span></p><hr><a href="#" name="id.rjki05csbapk"></a><p class="c5"><span class="c14 c1">Variables and constants</span></p><p class="c0"><span></span></p><p class="c5"><span>A variable is a &#39;storage&#39; location used to hold values that change while your program runs.</span></p><p class="c0"><span></span></p><p class="c5"><span>ll variables have an identifier, a type, and an optional initializer - an expression used to set the variable to an initial value.</span></p><p class="c0"><span></span></p><p class="c5"><span>The type of a variable can either be declared literally, or can be deduced from the variable&#39;s initializer.</span></p><p class="c5"><span>&nbsp;</span></p><h4 class="c10"><a name="h.nzobk4fhg7ew"></a><span class="c8 c1">Local variables</span></h4><p class="c0"><span></span></p><p class="c5"><span>Local variables are temporary variables that disappear when the local scope they are declared in is destroyed.</span></p><p class="c0"><span></span></p><p class="c5"><span>Local variables may be declared within any local scope.</span></p><p class="c0"><span></span></p><p class="c5"><span>Each of the following creates a local scope:</span></p><p class="c0"><span></span></p><p class="c5"><span>* The statements inside a function or method.</span></p><p class="c5"><span>* The statements inside an If, Else If or If block.</span></p><p class="c5"><span>* The statements inside a Case or Default block.</span></p><p class="c5"><span>* The statements inside a While, Repeat or For loop.</span></p><p class="c0"><span></span></p><p class="c5"><span>The syntax for declaring a local variable is:</span></p><p class="c0"><span></span></p><p class="c5"><span class="c1">Local</span><span>&nbsp;</span><span class="c3">Identifier </span><span class="c1">:</span><span>&nbsp;</span><span class="c3">Type </span><span>[</span><span class="c3">&nbsp;</span><span class="c1">=</span><span>&nbsp;</span><span class="c3">Expression </span><span>]</span></p><p class="c5"><span>Or...</span></p><p class="c5"><span class="c1">Local </span><span class="c3">Identifier </span><span class="c1">:= </span><span class="c3">Expression</span></p><p class="c0"><span class="c3"></span></p><p class="c5"><span>The second syntax := is a handy short cut where the type is deduced from the expression. For example:</span></p><p class="c0"><span></span></p><p class="c5"><span class="c4">Local age:Int=10</span></p><p class="c5"><span class="c4">Local age:=10 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;Is the same as above</span></p><p class="c0"><span class="c4"></span></p><h4 class="c10"><a name="h.ttqccoyo6fxs"></a><span class="c8 c1">Global variables</span></h4><p class="c0"><span></span></p><p class="c5"><span>Global variables are &#39;permanent&#39; variables that persist during the execution of your program.</span></p><p class="c0"><span></span></p><p class="c5"><span>Global variables may be declared at module scope, or within a class declaration.</span></p><p class="c0"><span></span></p><p class="c5"><span>The syntax for declaring a global variable is:</span></p><p class="c0"><span></span></p><p class="c5"><span class="c1">Global</span><span>&nbsp;</span><span class="c3">Identifier </span><span class="c1">:</span><span>&nbsp;</span><span class="c3">Type </span><span>[</span><span class="c3">&nbsp;</span><span class="c1">=</span><span>&nbsp;</span><span class="c3">Expression </span><span>]</span></p><p class="c5"><span>Or...</span></p><p class="c5"><span class="c1">Global </span><span class="c3">Identifier </span><span class="c1">:= </span><span class="c3">Expression</span></p><p class="c0"><span></span></p><p class="c5"><span>For example:</span></p><p class="c0"><span></span></p><p class="c5"><span class="c4">Global isPlayerAlive:Bool = True</span></p><p class="c0"><span class="c4"></span></p><p class="c0"><span class="c4"></span></p><p class="c5"><span class="c8 c1">Field variables</span></p><p class="c0"><span></span></p><p class="c5"><span>Field variables are &#39;instance&#39; variables that persist as long as the object they belong to. </span></p><p class="c0"><span></span></p><p class="c5"><span>Field variables can only be declared within a class declaration.</span></p><p class="c0"><span></span></p><p class="c5"><span>The syntax for declaring a field variable is:</span></p><p class="c0"><span></span></p><p class="c5"><span class="c1">Field</span><span>&nbsp;</span><span class="c3">Identifier </span><span class="c1">:</span><span>&nbsp;</span><span class="c3">Type </span><span>[</span><span class="c3">&nbsp;</span><span class="c1">=</span><span>&nbsp;</span><span class="c3">Expression </span><span>]</span></p><p class="c5"><span>Or...</span></p><p class="c5"><span class="c1">Field </span><span class="c3">Identifier </span><span class="c1">:= </span><span class="c3">Expression</span></p><p class="c0"><span class="c3"></span></p><p class="c0"><span class="c8 c1"></span></p><p class="c5"><span class="c8 c1">Constants</span></p><p class="c0"><span></span></p><p class="c5"><span>A constant is a value that is evaluated at compile time, and that does not change throughout the execution of a program.</span></p><p class="c0"><span></span></p><p class="c5"><span>Constants may be declared at module scope, within class scope or within any local scope.</span></p><p class="c0"><span></span></p><p class="c5"><span>The syntax for declaring a constant is:</span></p><p class="c0"><span></span></p><p class="c5"><span class="c1">Const </span><span class="c3">Identifier </span><span class="c1">:</span><span>&nbsp;</span><span class="c3">Type </span><span class="c1">=</span><span>&nbsp;</span><span class="c3">Expression</span></p><p class="c5"><span>Or...</span></p><p class="c5"><span class="c1">Const </span><span class="c3">Identifier </span><span class="c1">:= </span><span class="c3">Expression</span></p><p class="c0"><span class="c3"></span></p><hr><a href="#" name="id.v8hib4pkeykx"></a><p class="c5"><span class="c14 c1">Expressions</span></p><p class="c0"><span></span></p><p class="c5"><span>Expressions are the parts of a program that perform calculations, make logical comparisons and return results.</span></p><p class="c0"><span></span></p><h4 class="c10"><a name="h.u141iw6xk7zs"></a><span class="c8 c1">Operators</span></h4><p class="c0"><span></span></p><table cellpadding="0" cellspacing="0" class="c15"><tbody><tr class="c2"><td class="c12"><p class="c6"><span class="c1">Operator Syntax</span></p></td><td class="c11"><p class="c6"><span class="c1">Description</span></p></td></tr><tr class="c2"><td class="c12"><p class="c5"><span class="c1">New</span><span>&nbsp;</span><span class="c3">ClassType</span></p><p class="c5"><span class="c1">Null</span></p><p class="c5"><span class="c1">True</span></p><p class="c5"><span class="c1">False</span></p><p class="c5"><span class="c1">Self</span></p><p class="c5"><span class="c1">Super</span></p><p class="c5"><span class="c3">Literal</span></p><p class="c5"><span class="c3">Identifier</span></p></td><td class="c11"><p class="c5"><span>Create a new object<br>The Null object</span></p><p class="c5"><span>Boolean True</span></p><p class="c5"><span>Boolean False</span></p><p class="c5"><span>Self</span></p><p class="c5"><span>Super</span></p><p class="c5"><span class="c3">&lt;literal&gt;</span></p><p class="c5"><span class="c3">&nbsp;&lt;identifier&gt;</span></p></td></tr><tr class="c2"><td class="c12"><p class="c5"><span class="c1">.</span><span>&nbsp;</span><span class="c3">Identifier</span></p><p class="c5"><span class="c1">(</span><span>&nbsp;</span><span class="c3">ExpressionSeq</span><span>&nbsp;</span><span class="c1">)</span></p><p class="c5"><span class="c1">[</span><span>&nbsp;</span><span class="c3">IndexExpression </span><span class="c1">]</span></p></td><td class="c11"><p class="c5"><span>Scope member access</span></p><p class="c5"><span>Invoke a method or function</span></p><p class="c5"><span>Index an array</span></p></td></tr><tr class="c2"><td class="c12"><p class="c6"><span class="c1">+</span></p><p class="c6"><span class="c1">-</span></p><p class="c6"><span class="c1">~</span></p><p class="c6"><span class="c1">Not</span></p></td><td class="c11"><p class="c6"><span>Unary plus</span></p><p class="c6"><span>Unary minus</span></p><p class="c6"><span>Bitwise complement</span></p><p class="c6"><span>Boolean inverse</span></p></td></tr><tr class="c2"><td class="c12"><p class="c6"><span class="c1">*</span></p><p class="c6"><span class="c1">/</span></p><p class="c6"><span class="c1">Mod</span></p><p class="c6"><span class="c1">Shl</span></p><p class="c6"><span class="c1">Shr</span></p></td><td class="c11"><p class="c6"><span>Multiplication</span></p><p class="c6"><span>Division</span></p><p class="c6"><span>Integer modulus</span></p><p class="c6"><span>Bitwise shift left</span></p><p class="c6"><span>Bitwise signed shift right</span></p></td></tr><tr class="c2"><td class="c12"><p class="c6"><span class="c1">+</span></p><p class="c6"><span class="c1">-</span></p></td><td class="c11"><p class="c6"><span>Addition</span></p><p class="c6"><span>Subtraction</span></p></td></tr><tr class="c2"><td class="c12"><p class="c6"><span class="c1">&amp;</span></p><p class="c6"><span class="c1">~</span></p></td><td class="c11"><p class="c6"><span>Bitwise &#39;and&#39;</span></p><p class="c6"><span>Bitwise &#39;xor&#39;</span></p></td></tr><tr class="c2"><td class="c12"><p class="c6"><span class="c1">|</span></p></td><td class="c11"><p class="c6"><span>Bitwise &#39;or&#39;</span></p></td></tr><tr class="c2"><td class="c12"><p class="c6"><span class="c1">=</span></p><p class="c6"><span class="c1">&lt;</span></p><p class="c6"><span class="c1">&gt;</span></p><p class="c6"><span class="c1">&lt;=</span></p><p class="c6"><span class="c1">&gt;=</span></p><p class="c6"><span class="c1">&lt;&gt;</span></p></td><td class="c11"><p class="c6"><span>Equals</span></p><p class="c6"><span>Less than</span></p><p class="c6"><span>Greater than</span></p><p class="c6"><span>Less than or equal</span></p><p class="c6"><span>Greater than or equal</span></p><p class="c6"><span>Not equal</span></p></td></tr><tr class="c2"><td class="c12"><p class="c6"><span class="c1">And</span></p></td><td class="c11"><p class="c6"><span>Conditional &#39;and&#39;</span></p></td></tr><tr class="c2"><td class="c12"><p class="c6"><span class="c1">Or</span></p></td><td class="c11"><p class="c6"><span>Conditional &#39;or&#39;</span></p></td></tr></tbody></table><p class="c0"><span></span></p><p class="c0"><span></span></p><h4 class="c10"><a name="h.4yzs0q-vlpoq6"></a><span class="c8 c1">Balancing argument types</span></h4><p class="c0"><span></span></p><p class="c5"><span>When performing binary arithmetic (</span><span class="c1">*</span><span>, </span><span class="c1">/</span><span>, </span><span class="c1">+</span><span>, </span><span class="c1">-</span><span>) or comparison operations (</span><span class="c1">=</span><span>, </span><span class="c1">&lt;</span><span>, </span><span class="c1">&gt;</span><span>, </span><span class="c1">&lt;=</span><span>, </span><span class="c1">&gt;=</span><span>, </span><span class="c1">&lt;&gt;</span><span>) the arguments are &#39;balanced&#39; according to the following rules:</span></p><p class="c0"><span></span></p><p class="c5"><span>If either operand is not String, Float or Int, then error,</span></p><p class="c5"><span>else if either operand is a String, then the balanced type is String,</span></p><p class="c5"><span>else if either operand is a Float, then the balanced type is Float,</span></p><p class="c5"><span>else the balanced type is Int.</span></p><p class="c0"><span></span></p><p class="c5"><span>In the case of arithmetic operations, arguments are first implicitly converted to the balanced type if necessary, and the result is also of the balanced type.</span></p><p class="c0"><span></span></p><p class="c5"><span>In the case of comparison operations, arguments are first implicitly converted to the balanced type if necessary, and the result is boolean.</span></p><p class="c0"><span></span></p><p class="c5"><span>The only valid arithmetic operation that can be performed on strings is addition, which performs string concatentation on the arguments.</span></p><h4 class="c10 c26"><a name="h.usb0d84ffgoh"></a></h4><h4 class="c10"><a name="h.vhnuus-cz8mdo"></a><span class="c8 c1">Conditional operators</span></h4><p class="c0"><span></span></p><p class="c5"><span>The arguments of conditional operations (</span><span class="c1">And</span><span>, </span><span class="c1">Or</span><span>) are first converted to boolean if necessary and the result is boolean.</span></p><p class="c0"><span></span></p><p class="c5"><span>In the case of </span><span class="c1">Or</span><span>, if the left-hand-side expression evaluates to true, the right-hand-side expression is not evaluated. &nbsp;</span></p><p class="c0"><span></span></p><p class="c5"><span>For example:</span></p><p class="c0"><span></span></p><p class="c5"><span class="c4">If car&lt;&gt;Null Or GetSpeed()&gt;10 Then...</span></p><p class="c0"><span></span></p><p class="c5"><span>In the above example, if car is not Null, then the right-hand-side of the </span><span class="c1">Or</span><span>&nbsp;is not evaluated - ie: the GetSpeed function is never called.</span></p><p class="c0"><span></span></p><p class="c5"><span>In the case of </span><span class="c1">And</span><span>, if the left-hand-side expression evaluates to false, the right-hand-side expression is not evaluated. &nbsp;</span></p><p class="c0"><span></span></p><p class="c5"><span>For example:</span></p><p class="c0"><span></span></p><p class="c5"><span class="c4">If enemies.Count &gt; 0 And HasEnemyInSight() Then ...</span></p><p class="c0"><span></span></p><p class="c5"><span>In the above example, if enemies.Count is &lt;= 0, then the right-hand-side of the </span><span class="c1">And</span><span>&nbsp;is not evaluated - ie: the hasEnemyInSight function is never called.</span></p><p class="c0"><span></span></p><h4 class="c10"><a name="h.1rvyou-6nz93d"></a><span class="c8 c1">Bitwise operators</span></h4><p class="c0"><span></span></p><p class="c5"><span>When performing bitwise (</span><span class="c1">Shl</span><span>&nbsp;</span><span class="c1">Shr &amp;</span><span>&nbsp;</span><span class="c1">|</span><span>&nbsp;</span><span class="c1">~</span><span>) operations, arguments are first implicitly converted to integers if necessary before the operation is performed. The result is also an integer.</span></p><p class="c0"><span></span></p><h4 class="c10"><a name="h.5spgpluqxyw5"></a><span class="c8 c1">Implicit conversions</span></h4><p class="c0"><span></span></p><p class="c5"><span>Implicit conversions are automatic conversions performed when assigning a value to a variable, passing parameters to a function, returning a value from a function or when balancing operator operands.</span></p><p class="c0"><span></span></p><p class="c5"><span>Monkey supports the following implicit conversions:</span></p><p class="c0"><span></span></p><table cellpadding="0" cellspacing="0" class="c15"><tbody><tr class="c2"><td class="c7"><p class="c6"><span class="c1">Source type</span></p></td><td class="c7"><p class="c6"><span class="c1">Target type</span></p></td><td class="c7"><p class="c6"><span class="c1">Notes</span></p></td></tr><tr class="c2"><td class="c7"><p class="c6"><span>Boolean</span></p></td><td class="c7"><p class="c6"><span>Integer</span></p></td><td class="c7"><p class="c6"><span>Result is 1 if boolean value is true, 0 if false.</span></p></td></tr><tr class="c2"><td class="c7"><p class="c6"><span>Integer</span></p></td><td class="c7"><p class="c6"><span>Floating point</span></p></td><td class="c7"><p class="c6 c19"><span></span></p></td></tr><tr class="c2"><td class="c7"><p class="c6"><span>Integer</span></p></td><td class="c7"><p class="c6"><span>String</span></p></td><td class="c7"><p class="c6 c19"><span></span></p></td></tr><tr class="c2"><td class="c7"><p class="c6"><span>Floating point</span></p></td><td class="c7"><p class="c6"><span>Integer</span></p></td><td class="c7"><p class="c6"><span>Value is converted by discarding the fractional part.</span></p></td></tr><tr class="c2"><td class="c7"><p class="c6"><span>Floating Point</span></p></td><td class="c7"><p class="c6"><span>String</span></p></td><td class="c7"><p class="c6"><span>Conversion is target dependent.</span></p></td></tr><tr class="c2"><td class="c7"><p class="c6"><span>Base class object</span></p></td><td class="c7"><p class="c6"><span>Derived class object</span></p></td><td class="c7"><p class="c6 c19"><span></span></p></td></tr></tbody></table><p class="c0"><span></span></p><h4 class="c10"><a name="h.s5tsg8p8eyk1"></a><span class="c8 c1">Explicit conversions</span></h4><p class="c0"><span></span></p><p class="c5"><span>Explicit conversions are conversions from one type to another type which can be performed manually by the programmer .</span></p><p class="c0"><span></span></p><p class="c5"><span>The syntax for performing an explicit conversion is </span><span class="c3">TargetType</span><span>&nbsp;</span><span class="c1">(</span><span>&nbsp;</span><span class="c3">Expression</span><span>&nbsp;</span><span class="c1">)</span></p><p class="c0"><span class="c1"></span></p><p class="c5"><span>For example:</span></p><p class="c0"><span></span></p><p class="c5"><span class="c4">Local energyFloat:Float = 120.1000002001</span></p><p class="c5"><span class="c4">Local energyInt:Int = Int(energyFloat) &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;Is 120 now</span></p><p class="c0"><span class="c1"></span></p><p class="c5"><span>You can perform the following explicit conversions in Monkey:</span></p><p class="c0"><span></span></p><table cellpadding="0" cellspacing="0" class="c15"><tbody><tr class="c2"><td class="c7"><p class="c6"><span class="c1">Source type</span></p></td><td class="c7"><p class="c6"><span class="c1">Target type</span></p></td><td class="c7"><p class="c6"><span class="c1">Notes</span></p></td></tr><tr class="c2"><td class="c7"><p class="c6"><span>Integer</span></p></td><td class="c7"><p class="c6"><span>Boolean</span></p></td><td class="c7"><p class="c6"><span>Result is true if value&lt;&gt;0, otherwise false.</span></p></td></tr><tr class="c2"><td class="c7"><p class="c6"><span>Floating point</span></p></td><td class="c7"><p class="c6"><span>Boolean</span></p></td><td class="c7"><p class="c6"><span>Result is true if value&lt;&gt;0.0, &nbsp;otherwise false.</span></p></td></tr><tr class="c2"><td class="c7"><p class="c6"><span>String</span></p></td><td class="c7"><p class="c6"><span>Boolean</span></p></td><td class="c7"><p class="c6"><span>Result is true if value.Length&lt;&gt;0, otherwise false.</span></p></td></tr><tr class="c2"><td class="c7"><p class="c6"><span>String</span></p></td><td class="c7"><p class="c6"><span>Integer</span></p></td><td class="c7"><p class="c6 c19"><span></span></p></td></tr><tr class="c2"><td class="c7"><p class="c6"><span>String</span></p></td><td class="c7"><p class="c6"><span>Floating point</span></p></td><td class="c7"><p class="c6"><span>Conversion is target dependent.</span></p></td></tr><tr class="c2"><td class="c7"><p class="c6"><span>Array</span></p></td><td class="c7"><p class="c6"><span>Boolean</span></p></td><td class="c7"><p class="c6"><span>Result is true if value.Length&lt;&gt;0, otherwise false.</span></p></td></tr><tr class="c2"><td class="c7"><p class="c6"><span>Object</span></p></td><td class="c7"><p class="c6"><span>Boolean</span></p></td><td class="c7"><p class="c6"><span>Result is true if value&lt;&gt;Null, otherwise false.</span></p></td></tr><tr class="c2"><td class="c7"><p class="c6"><span>Derived class object</span></p></td><td class="c7"><p class="c6"><span>Base class object</span></p></td><td class="c7"><p class="c6"><span>Result is null if value is not a subclass of derived class.</span></p></td></tr></tbody></table><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c5"><span>In some circumstances, Monkey will automatically perform an explicit conversion of a non-bool value to bool for you. This will occur when evaluating an expression for use with the </span><span class="c1">If</span><span>&nbsp;and </span><span class="c1">While</span><span>&nbsp;statements; the </span><span class="c1">Until</span><span>&nbsp;part of a </span><span class="c1">Repeat</span><span>&nbsp;loop; and when evaluating the arguments for the </span><span class="c1">Not</span><span>, </span><span class="c1">Or</span><span>&nbsp;and </span><span class="c1">And</span><span>&nbsp;operators. This allows you to use &#39;shortcut&#39; code such as: </span><span class="c1">If x Then y</span><span>&nbsp;without the need to compare </span><span class="c1">x</span><span>&nbsp;with 0, &quot;&quot;, [] or null.</span></p><p class="c0"><span></span></p><hr><a href="#" name="id.sesivp5vf5pr"></a><p class="c5"><span class="c14 c1">Statements</span></p><p class="c0"><span></span></p><h4 class="c10"><a name="h.j3vnh37dk6cp"></a><span class="c8 c1">If statement</span></h4><p class="c0"><span></span></p><p class="c5"><span>The </span><span class="c1">If</span><span>&nbsp;statement allows you to conditionally execute a block of statements depending on the result of a series of boolean expressions.</span></p><p class="c0"><span></span></p><p class="c5"><span>The first boolean expression that evaluates to true will cause the associated block of statements to be executed. No further boolean expressions will be evaluated.</span></p><p class="c0"><span></span></p><p class="c5"><span>If no boolean expression evaluates to true, then the final else block will be executed if present.</span></p><p class="c0"><span></span></p><p class="c5"><span>The syntax for the If statement is:</span></p><p class="c0"><span></span></p><p class="c5"><span class="c1">If</span><span>&nbsp;</span><span class="c3">Expression</span><span>&nbsp;[ </span><span class="c1">Then</span><span>&nbsp;]</span></p><p class="c5"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;...</span><span class="c3">Statements...</span></p><p class="c5"><span class="c1">ElseIf</span><span>&nbsp;</span><span class="c3">Expression</span><span>&nbsp;[ </span><span class="c1">Then</span><span>&nbsp;]</span></p><p class="c5"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;...</span><span class="c3">Statements</span><span>...</span></p><p class="c5"><span class="c1">ElseIf</span><span>...</span></p><p class="c5"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;...</span><span class="c3">Statements</span><span>...</span></p><p class="c5"><span class="c1">Else</span></p><p class="c5"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c3">...Statements...</span></p><p class="c5"><span class="c1">EndIf</span></p><p class="c0"><span></span></p><p class="c5"><span>There may be any number of </span><span class="c1">ElseIf</span><span>&nbsp;blocks, or none. The final </span><span class="c1">Else</span><span>&nbsp;block is also optional.</span></p><p class="c0"><span></span></p><p class="c5"><span class="c1">End</span><span>&nbsp;or </span><span class="c1">End If</span><span>&nbsp;may be used instead of </span><span class="c1">EndIf</span><span>&nbsp;to terminate an </span><span class="c1">If</span><span>&nbsp;statement, and </span><span class="c1">Else If</span><span>&nbsp;may be used instead of </span><span class="c1">ElseIf</span><span>. </span></p><p class="c0"><span></span></p><p class="c5"><span>In addtion, a simple one line version of </span><span class="c1">If</span><span>&nbsp;is also supported:</span></p><p class="c0"><span></span></p><p class="c5"><span class="c1">If</span><span>&nbsp;</span><span class="c3">Expression</span><span>&nbsp;[ </span><span class="c1">Then</span><span>&nbsp;] </span><span class="c3">Statement</span><span>&nbsp;[ </span><span class="c1">Else</span><span>&nbsp;] </span><span class="c3">statement</span></p><p class="c0"><span></span></p><h4 class="c10"><a name="h.wwht0ne03l65"></a><span class="c8 c1">Select statement</span></h4><p class="c0"><span></span></p><p class="c5"><span>The </span><span class="c1">Select </span><span>statement allows you to execute a block of statements depending on a series of comparisons.</span></p><p class="c0"><span></span></p><p class="c5"><span>The first comparison to produce a match will cause the associated block of statements to be executed.</span></p><p class="c0"><span></span></p><p class="c5"><span>If no comparisons produce a match, then the final default block will be executed if present.</span></p><p class="c0"><span></span></p><p class="c5"><span>The syntax for the Select statement is:<br></span></p><p class="c5"><span class="c1">Select </span><span class="c3">Expression</span></p><p class="c5"><span class="c1">Case </span><span class="c3">Expression [ </span><span class="c1">, </span><span class="c3">Expression...</span><span>&nbsp;]</span></p><p class="c5"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c3">...Statements...</span></p><p class="c5"><span class="c1">Case</span><span>...</span></p><p class="c5"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c3">...Statements...</span></p><p class="c5"><span class="c1">Default</span></p><p class="c5"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c3">...Statements...</span></p><p class="c5"><span class="c1">End</span><span>&nbsp;[ </span><span class="c1">Select</span><span>&nbsp;]</span></p><p class="c0"><span></span></p><p class="c5"><span>There may be any number of Case blocks, or none. The final Default block is also optional.</span></p><p class="c0"><span></span></p><p class="c5"><span class="c1">End</span><span>&nbsp;may be followed by an optional </span><span class="c1">Select</span><span>.</span></p><p class="c0"><span class="c4"></span></p><h4 class="c10"><a name="h.y3oyintajh3n"></a><span class="c8 c1">While loop</span></h4><p class="c0"><span></span></p><p class="c5"><span>The </span><span class="c1">While </span><span>loop allows you to execute a block of statements repeatedly while a boolean expression evaluates to true.</span></p><p class="c0"><span></span></p><p class="c5"><span>Note that a </span><span class="c1">While</span><span>&nbsp;loop may never actually execute any of it&#39;s statements if the expression evaluates to false when the loop is entered.</span></p><p class="c0"><span></span></p><p class="c5"><span>The syntax for the While loop is:<br></span></p><p class="c5"><span class="c1">While </span><span class="c3">Expression</span></p><p class="c5"><span class="c3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;...Statements...</span></p><p class="c5"><span class="c1">Wend</span></p><p class="c0"><span></span></p><p class="c5"><span class="c1">End</span><span>&nbsp;or </span><span class="c1">End While</span><span>&nbsp;may be used instead of </span><span class="c1">Wend</span><span>&nbsp;to terminate a </span><span class="c1">While</span><span>&nbsp;loop.</span></p><p class="c0"><span></span></p><p class="c5"><span class="c1">Exit</span><span>&nbsp;and </span><span class="c1">Continue</span><span>&nbsp;may be used within a </span><span class="c1">While</span><span>&nbsp;loop to abruptly terminate or continue loop execution.</span></p><p class="c0"><span class="c1"></span></p><h4 class="c10"><a name="h.666g76pyz9mn"></a><span class="c8 c1">Repeat loop</span></h4><p class="c0"><span></span></p><p class="c5"><span>Like the </span><span class="c1">While</span><span>&nbsp;loop, the </span><span class="c1">Repeat </span><span>loop also allows you to execute a block of statement repeatedly while a boolean expression evaluates to true.</span></p><p class="c0"><span></span></p><p class="c5"><span>However, unlike a </span><span class="c1">While</span><span>&nbsp;loop, a </span><span class="c1">Repeat </span><span>loop is guaranteed to execute at least once, as the boolean expression is not evaluated until the end of the loop.</span></p><p class="c0"><span></span></p><p class="c5"><span>The syntax for Repeat/Until loops is:</span></p><p class="c0"><span></span></p><p class="c5"><span class="c1">Repeat</span></p><p class="c5"><span class="c1 c3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c3">&hellip;Statements...</span></p><p class="c5"><span class="c1">Until </span><span class="c3">Expression</span></p><p class="c0"><span></span></p><p class="c5"><span>A special form of </span><span class="c1">Repeat</span><span>&nbsp;that loops forever is also supported:</span></p><p class="c0"><span></span></p><p class="c5"><span class="c1">Repeat</span></p><p class="c5 c9"><span class="c3">...Statements...</span></p><p class="c5"><span class="c1">Forever</span></p><p class="c0"><span class="c1"></span></p><p class="c5"><span class="c1">Exit</span><span>&nbsp;and </span><span class="c1">Continue</span><span>&nbsp;may be used within a </span><span class="c1">While</span><span>&nbsp;loop to abruptly terminate or continue loop execution.</span></p><p class="c0"><span class="c1"></span></p><h4 class="c10"><a name="h.uuo4tp4bxfqc"></a><span class="c8 c1">Numeric For loop</span></h4><p class="c0"><span></span></p><p class="c5"><span>A numeric </span><span class="c1">For</span><span>&nbsp;loop will continue executing until the value of a numeric index variable reaches an exit value.</span></p><p class="c0"><span></span></p><p class="c5"><span>The index variable is automatically updated every loop iteration by adding a constant step value.</span></p><p class="c0"><span></span></p><p class="c5"><span>The syntax for a numeric </span><span class="c1">For</span><span>&nbsp;loop is:</span></p><p class="c0"><span></span></p><p class="c5"><span class="c1">For</span><span>&nbsp;[ </span><span class="c1">Local</span><span>&nbsp;] </span><span class="c3">IndexVariable</span><span>&nbsp;</span><span class="c1">=</span><span>&nbsp;</span><span class="c3">FirstValue</span><span>&nbsp;</span><span class="c1">To</span><span>&nbsp;| </span><span class="c1">Until</span><span>&nbsp;</span><span class="c3">LastValue</span><span>&nbsp;[ </span><span class="c1">Step</span><span>&nbsp;</span><span class="c3">StepValue</span><span>&nbsp;]</span></p><p class="c5"><span class="c3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;...Statements...</span></p><p class="c5"><span class="c1">Next</span></p><p class="c0"><span></span></p><p class="c5"><span class="c1">End</span><span>&nbsp;or </span><span class="c1">End For</span><span>&nbsp;may be used instead of </span><span class="c1">Next</span><span>&nbsp;to terminate a </span><span class="c1">For</span><span>&nbsp;loop.</span></p><p class="c0"><span></span></p><p class="c5"><span>If present, </span><span class="c1">Local</span><span>&nbsp;will create a new local index variable that only exists for the duration of the loop. In addition, </span><span class="c3">IndexVariable</span><span>&nbsp;must include the variable type, or </span><span class="c1">:=</span><span>&nbsp;must be used instead of </span><span class="c1">=</span><span>&nbsp;to implicitly set the variable&#39;s type.</span></p><p class="c0"><span></span></p><p class="c5"><span>If </span><span class="c1">Local</span><span>&nbsp;is not present, </span><span class="c3">IndexVariable</span><span>&nbsp;must be a valid, existing variable.</span></p><p class="c0"><span></span></p><p class="c5"><span>The use of </span><span class="c1">To</span><span>&nbsp;or </span><span class="c1">Until</span><span>&nbsp;determines whether </span><span class="c3">LastValue</span><span>&nbsp;should be inclusive or exclusive.</span></p><p class="c0"><span></span></p><p class="c5"><span>If </span><span class="c1">To</span><span>&nbsp;is used, the loop will exit once the index variable is greater than </span><span class="c3">LastValue</span><span>&nbsp;(or less than if </span><span class="c3">StepValue</span><span>&nbsp;is negative).</span></p><p class="c0"><span></span></p><p class="c5"><span>If </span><span class="c1">Until</span><span>&nbsp;is used, the loop will exit once the index variable is greater than or equal to </span><span class="c3">LastValue</span><span>&nbsp;(or less than or equal to if </span><span class="c3">StepValue</span><span>&nbsp;is negative).</span></p><p class="c0"><span></span></p><p class="c5"><span>If omitted, </span><span class="c3">StepValue</span><span>&nbsp;defaults to 1.</span></p><p class="c0"><span></span></p><p class="c5"><span class="c1">Exit</span><span>&nbsp;and </span><span class="c1">Continue</span><span>&nbsp;may be used within a numeric </span><span class="c1">For</span><span>&nbsp;loop to abruptly terminate or continue loop execution.</span></p><p class="c0"><span></span></p><p class="c5"><span>Examples:</span></p><p class="c0"><span></span></p><p class="c5"><span class="c4">&#39;Output: 1,2,3...9,10</span></p><p class="c5"><span class="c4">For Local i:=1 To 10</span></p><p class="c5"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Print i</span></p><p class="c5"><span class="c4">Next</span></p><p class="c0"><span class="c4"></span></p><p class="c5"><span class="c4">&#39;Output: 1,2,3...8,9</span></p><p class="c5"><span class="c4">For Local i:=0 Until 10</span></p><p class="c5"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Print i</span></p><p class="c5"><span class="c4">Next</span></p><p class="c0"><span class="c4"></span></p><p class="c5"><span class="c4">&#39;Output: 10,9,8...2,1</span></p><p class="c5"><span class="c4">For Local i:=10 To 1 Step -1</span></p><p class="c5"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Print i</span></p><p class="c5"><span class="c4">Next</span></p><p class="c0"><span></span></p><h4 class="c10"><a name="h.p9qv7te27n65"></a><span class="c8 c1">For EachIn loop</span></h4><p class="c0"><span></span></p><p class="c5"><span>A For EachIn loop allows you to iterate through the elements of a collection.</span></p><p class="c0"><span></span></p><p class="c5"><span>A collection is either an array, a string, or a specially designed object.</span></p><p class="c0"><span></span></p><p class="c5"><span>The syntax for a For EachIn loop is:</span></p><p class="c0"><span></span></p><p class="c5"><span class="c1">For</span><span>&nbsp;[ </span><span class="c1">Local</span><span>&nbsp;] </span><span class="c3">IndexVariable</span><span>&nbsp;= </span><span class="c1">EachIn</span><span>&nbsp;</span><span class="c3">Collection</span></p><p class="c5"><span class="c3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;...Statements...</span></p><p class="c5"><span class="c1">Next</span></p><p class="c0"><span></span></p><p class="c5"><span class="c1">End</span><span>&nbsp;or </span><span class="c1">End For</span><span>&nbsp;may be used instead of </span><span class="c1">Next</span><span>&nbsp;to terminate a </span><span class="c1">For</span><span>&nbsp;loop.</span></p><p class="c0"><span></span></p><p class="c5"><span>If present, </span><span class="c1">Local</span><span>&nbsp;will create a new local index variable that only exists for the duration of the loop. In addition, </span><span class="c3">IndexVariable</span><span>&nbsp;must include the variable type, or </span><span class="c1">:=</span><span>&nbsp;must be used instead of </span><span class="c1">=</span><span>&nbsp;to implicitly set the variable&#39;s type.</span></p><p class="c0"><span></span></p><p class="c5"><span>If </span><span class="c1">Local</span><span>&nbsp;is not present, </span><span class="c3">IndexVariable</span><span>&nbsp;must be a valid, existing variable.</span></p><p class="c0"><span></span></p><p class="c5"><span>If </span><span class="c3">Collection</span><span>&nbsp;is an array, the loop will iterate through each element of the array, and the type of the index variable must match the element type of the array.</span></p><p class="c0"><span></span></p><p class="c5"><span>If </span><span class="c3">Collection</span><span>&nbsp;is a string, the loop will iterate through each each character code of the string, and the type of the index variable must be numeric.</span></p><p class="c0"><span></span></p><p class="c5"><span>If </span><span class="c3">Collection</span><span>&nbsp;is an object, it must provide the following method:</span></p><p class="c0"><span></span></p><p class="c5"><span>Method ObjectEnumerator:Object()</span></p><p class="c0"><span></span></p><p class="c5"><span>The object returned by this method must itself provide the following methods:<br></span></p><p class="c5"><span>Method HasNext:Bool()</span></p><p class="c5"><span>Method NextObject:Object()</span></p><p class="c0"><span></span></p><p class="c5"><span>This allows you to build &#39;collection&#39; style objects, such as the List and Map classes included in the standard Monkey modules that can be iterated through using </span><span class="c1">For EachIn</span><span>&nbsp;loops.</span></p><p class="c0"><span class="c1"></span></p><h4 class="c10"><a name="h.3vk294smu3fd"></a><span class="c8 c1">Exit and Continue</span></h4><p class="c0"><span></span></p><p class="c5"><span class="c1">Exit</span><span>&nbsp;can be used within </span><span class="c1">While</span><span>, </span><span class="c1">Repeat</span><span>&nbsp;and </span><span class="c1">For</span><span>&nbsp;loops to abruptly exit the loop before the loop termination condition has been met.</span></p><p class="c0"><span></span></p><p class="c5"><span class="c1">Continue</span><span>&nbsp;can be used within </span><span class="c1">While</span><span>, </span><span class="c1">Repeat</span><span>&nbsp;and </span><span class="c1">For</span><span>&nbsp;loops to force the loop to abruptly skip to the next loop iteration, skipping over any statements that may be remaining in the current loop iteration.</span></p><p class="c0"><span></span></p><h4 class="c10"><a name="h.xterae84nel0"></a><span class="c8 c1">Assignment statements</span></h4><p class="c0"><span></span></p><p class="c5"><span>An assignment statement modifies a variable&#39;s value, and has the syntax:</span></p><p class="c0"><span></span></p><p class="c5"><span class="c3">VarExpression Operator Expression</span></p><p class="c0"><span></span></p><p class="c5"><span>Where </span><span class="c3">VarExpression </span><span>is an expression that evaluates to a variable, and </span><span class="c3">Operator</span><span>&nbsp;is one of the following:</span></p><p class="c5"><span>&nbsp;</span></p><p class="c5"><span class="c1">=</span></p><p class="c5"><span class="c1">*=</span></p><p class="c5"><span class="c1">/=</span></p><p class="c5"><span class="c1">Shl=</span></p><p class="c5"><span class="c1">Shr=</span></p><p class="c5"><span class="c1">Mod=</span></p><p class="c5"><span class="c1">+=</span></p><p class="c5"><span class="c1">-=</span></p><p class="c5"><span class="c1">&amp;=</span></p><p class="c5"><span class="c1">~=</span></p><p class="c5"><span class="c1">|=</span></p><p class="c0"><span></span></p><p class="c5"><span>The </span><span class="c1">=</span><span>&nbsp;operator is used for plain assignment, while the remaining operators are used for update assignments.</span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c5"><span class="c1 c8">Expression statements</span></p><p class="c0"><span></span></p><p class="c5"><span>You may also use certain expressions as program statements. These are:</span></p><p class="c0"><span></span></p><p class="c5"><span>Function or method call expressions.</span></p><p class="c0"><span></span></p><p class="c5"><span class="c1">New</span><span>&nbsp;expressions.</span></p><p class="c0"><span></span></p><hr><a href="#" name="id.vrxks63k1ixz"></a><p class="c5"><span class="c14 c1">Functions and Methods</span></p><p class="c0"><span></span></p><p class="c5"><span>A function is a self contained block of statements that can be called (or </span><span class="c3">invoked</span><span>) repeatedly from elsewhere in the program. Functions can also be passed parameters and return a result.</span></p><p class="c0"><span></span></p><p class="c5"><span>The syntax for declaring a function is:</span></p><p class="c0"><span></span></p><p class="c5"><span class="c1">Function</span><span>&nbsp;</span><span class="c3">Identifier </span><span class="c1">: </span><span class="c3">ReturnType</span><span>&nbsp;</span><span class="c1">(</span><span>&nbsp;</span><span class="c3">Parameters</span><span>&nbsp;</span><span class="c1">)</span></p><p class="c5 c9 c25"><span class="c3">...Statements...</span></p><p class="c5"><span class="c1">End</span></p><p class="c0"><span class="c1"></span></p><p class="c5"><span>For example</span><span class="c1">:</span></p><p class="c0"><span class="c1"></span></p><p class="c5"><span class="c4">Function Eat:Void( amount:Int )</span></p><p class="c5"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;...</span></p><p class="c5"><span class="c4">End</span></p><p class="c0"><span class="c1"></span></p><p class="c5"><span class="c3">Parameters</span><span>&nbsp;is a comma separated sequence of function parameters:</span></p><p class="c0"><span></span></p><p class="c5"><span class="c3">Identifier </span><span class="c1">:</span><span>&nbsp;</span><span class="c3">Type </span><span>[</span><span class="c3">&nbsp;</span><span class="c1">=</span><span>&nbsp;</span><span class="c3">InitExpression </span><span>]</span></p><p class="c5"><span>Or...</span></p><p class="c5"><span class="c3">Identifier </span><span class="c1">:= </span><span class="c3">InitExpression</span></p><p class="c0"><span class="c1"></span></p><p class="c5"><span>If you provide an </span><span class="c3">InitExpression</span><span>&nbsp;when declaring a function parameter, this means that the parameter has a default value and that the parameter can be optionally omitted when the function is called.</span></p><p class="c0"><span></span></p><p class="c5"><span>Once you have declared a function, it can be called with the syntax: </span></p><p class="c0"><span></span></p><p class="c5"><span class="c3">FunctionIdentifier </span><span class="c1">( </span><span class="c3">Arguments </span><span class="c1">) </span></p><p class="c0"><span class="c1"></span></p><p class="c5"><span>where </span><span class="c3">Arguments</span><span>&nbsp;is a comma separated sequence of expressions.</span></p><p class="c0"><span></span></p><p class="c5"><span>For example:</span></p><p class="c0"><span></span></p><p class="c5"><span class="c4">Function Sum:Int( x:Int,y:Int )</span></p><p class="c5 c9"><span class="c4">Return x+y</span></p><p class="c5"><span class="c4">End</span></p><p class="c0"><span class="c4"></span></p><p class="c5"><span class="c4">Function Main()</span></p><p class="c5 c9"><span class="c4">Print Sum( 10,20 )</span></p><p class="c5"><span class="c4">End</span></p><p class="c0"><span></span></p><p class="c5"><span>Here is an example of using default parameters:</span></p><p class="c0"><span></span></p><p class="c5"><span class="c4">Function Sum( x:Int=0,y:Int=0,z:Int=0 )</span></p><p class="c5"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Print x+y+z</span></p><p class="c5"><span class="c4">End</span></p><p class="c0"><span class="c4"></span></p><p class="c5"><span class="c4">Function Main()</span></p><p class="c5"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Print Sum()&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;same as calling Sum( 0,0,0 )</span></p><p class="c5"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Print Sum( 10,20 ) &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;same as calling Sum( 10,20,0 )</span></p><p class="c5"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Print Sum( 10,,30 )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;same as calling Sum( 10,0,30 )</span></p><p class="c5"><span class="c4">End</span></p><p class="c0"><span></span></p><h4 class="c10"><a name="h.ozpjm3lvmmml"></a><span class="c8 c1">Methods</span></h4><p class="c0"><span></span></p><p class="c5"><span>A </span><span class="c1">Method </span><span>is a function that is bound to a class. A method has implicit access to all members of its class, such as fields, globals and other methods and functions..</span></p><p class="c0"><span></span></p><p class="c5"><span>The syntax for declaring a method is similar to that for declaring a function:</span></p><p class="c0"><span></span></p><p class="c5"><span class="c1">Method</span><span>&nbsp;</span><span class="c3">Identifier </span><span class="c1">: </span><span class="c3">ReturnType</span><span>&nbsp;</span><span class="c1">(</span><span>&nbsp;</span><span class="c3">Parameters</span><span>&nbsp;</span><span class="c1">)</span></p><p class="c5 c25 c9"><span class="c3">...Statements...</span></p><p class="c5"><span class="c1">End</span></p><p class="c0"><span></span></p><p class="c5"><span>Within a method you can also use the special </span><span class="c1">Self</span><span>&nbsp;and </span><span class="c1">Super</span><span>&nbsp;variables:</span></p><p class="c0"><span></span></p><p class="c5"><span class="c1">Self</span><span>&nbsp;may be used within a method to access the object the method is associated with.</span></p><p class="c0"><span></span></p><p class="c5"><span class="c1">Super</span><span>&nbsp;may be used within a method to call &#39;super class&#39; methods.</span></p><p class="c0"><span></span></p><h4 class="c10"><a name="h.uvm40yaao19r"></a><span class="c8 c1">Function and Method overloading</span></h4><p class="c0"><span></span></p><p class="c5"><span>Functions can also be overloaded. This means that multiple declarations can share the same name, as long as they each have different parameters. Methods can be overloaded in exactly the same way as functions.</span></p><p class="c0"><span></span></p><p class="c5"><span>When a function is called, Monkey looks at the number and type of the parameters used in the call and looks for a matching overloaded version to use. For example:</span></p><p class="c0"><span></span></p><p class="c5"><span class="c4">Function Add( value:Int )</span></p><p class="c5"><span class="c4">End</span></p><p class="c0"><span class="c4"></span></p><p class="c5"><span class="c4">Function Add( value:Float )</span></p><p class="c5"><span class="c4">End</span></p><p class="c0"><span class="c4"></span></p><p class="c5"><span class="c4">Function Add( value:String )</span></p><p class="c5"><span class="c4">End</span></p><p class="c0"><span class="c4"></span></p><p class="c5"><span class="c4">Function Main()</span></p><p class="c5 c9"><span class="c4">Add( 10 )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;calls first version as 10 is of type Int</span></p><p class="c5 c9"><span class="c4">Add( 10.0 )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;calls second version as 10.0 is of type Float</span></p><p class="c5 c9"><span class="c4">Add( &quot;10&quot; )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;calls third version as &quot;10&quot; is of type String</span></p><p class="c5"><span class="c4">End</span></p><p class="c0"><span></span></p><p class="c5"><span>The number of parameters can also be used to differentiate between overloaded functions. For example:<br></span></p><p class="c5"><span class="c4">Function Set( x )</span></p><p class="c5"><span class="c4">End</span></p><p class="c0"><span class="c4"></span></p><p class="c5"><span class="c4">Function Set( x, y )</span></p><p class="c5"><span class="c4">End</span></p><p class="c0"><span class="c4"></span></p><p class="c5"><span class="c4">Function Main()</span></p><p class="c5"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Set( 10 )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;calls first version</span></p><p class="c5"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Set( 10,20 )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;calls second version as it has two parameters</span></p><p class="c5"><span class="c4">End</span></p><p class="c0"><span></span></p><p class="c5"><span>When determining which overloaded version to actually use, Monkey uses the following logic:</span></p><p class="c0"><span></span></p><p class="c5"><span>* If an overloaded version is found that is an exact match for the number and type of function call parameters, that version is used. Note that if the function call involves the use of any default parameters, it is not considered an exact match.</span></p><p class="c0"><span></span></p><p class="c5"><span>* Otherwise, if there is exactly one overloaded version that can be called by implicitly converting &nbsp;the function call parameters, that version is used.</span></p><p class="c0"><span></span></p><p class="c5"><span>* Otherwise, an error is generated. In this case, you will need to manually cast some or all of the function call parameters to create an exact match.</span></p><p class="c0"><span></span></p><p class="c5"><span>For example:</span></p><p class="c0"><span></span></p><p class="c5"><span class="c4">Function Add( value:Int )</span></p><p class="c5"><span class="c4">End</span></p><p class="c0"><span class="c4"></span></p><p class="c5"><span class="c4">Function Add( value:String )<br>End</span></p><p class="c0"><span class="c4"></span></p><p class="c5"><span class="c4">Function Main()</span></p><p class="c5"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Add( 10 )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;OK, calls first version</span></p><p class="c5"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Add( &quot;10&quot; )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;OK, calls second version</span></p><p class="c5"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Add( 10.0 ) &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;error - unable to determine which version to call</span></p><p class="c5"><span class="c4">End</span></p><p class="c0"><span></span></p><p class="c5"><span>The error is caused by the fact that the function call parameter &nbsp;- &#39;10.0&#39; - is a floating point value and can therefore be implicitly converted to either an integer or a string, so Monkey cannot decide which overload to use.</span></p><p class="c0"><span></span></p><p class="c5"><span>To solve this problem, you would need to explicitly cast the parameter to either an integer or a string to give Monkey a &#39;hint&#39; about which version you want used. &nbsp;For example:</span></p><p class="c0"><span></span></p><p class="c5"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Add( Int(10.0) )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;Casts the float as an integer, calls first version</span></p><p class="c0"><span class="c14 c1"></span></p><hr><a href="#" name="id.l336e6f8rwmy"></a><p class="c5"><span class="c14 c1">Classes and objects</span></p><p class="c0"><span></span></p><p class="c5"><span>A class is a kind of &#39;blueprint&#39; for creating objects at runtime.</span></p><p class="c0"><span></span></p><p class="c5"><span>The syntax for declaring a class is:</span></p><p class="c0"><span></span></p><p class="c5"><span class="c1">Class </span><span class="c3">Identifier </span><span>[ </span><span class="c1">&lt; </span><span class="c3">Parameters </span><span class="c1 c3">&gt; </span><span>] [ </span><span class="c1">Extends </span><span class="c3">Class</span><span>&nbsp;] [ </span><span class="c1">Implements</span><span>&nbsp;</span><span class="c3">Interfaces</span><span>&nbsp;]</span></p><p class="c5"><span class="c1 c3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c3">...Member declarations...</span></p><p class="c5"><span class="c1">End</span></p><p class="c0"><span></span></p><p class="c5"><span>Classes can contain field, method, constant, global and function declarations.</span></p><p class="c0"><span></span></p><p class="c5"><span>If no base class is specified using </span><span class="c1">Extends</span><span>, the class defaults to extending the built in </span><span class="c1">Object</span><span>&nbsp;class.</span></p><p class="c0"><span></span></p><p class="c5"><span>The </span><span class="c1">Implements</span><span>&nbsp;keyword is used to implement interfaces, and must be followed by a comma separated list of interface names. Please refer to the </span><span class="c3">Interfaces</span><span>&nbsp;section for more on interfaces. </span></p><p class="c0"><span></span></p><p class="c5"><span>A class is also a valid scope, and any constants, globals and functions declared within a class can be accessed outside of the class using the scope member access operator &#39;</span><span class="c1">.&#39;</span><span>. For example:</span></p><p class="c0"><span></span></p><p class="c5"><span class="c4">Class C</span></p><p class="c5"><span class="c4">&nbsp; &nbsp;Global T</span></p><p class="c5"><span class="c4">End</span></p><p class="c0"><span class="c4"></span></p><p class="c5"><span class="c4">Function Main()</span></p><p class="c5 c9"><span class="c4">C.T=10<br>End</span></p><p class="c0"><span></span></p><p class="c5"><span>Once you have declared a class, you can create objects of that class at runtime using the </span><span class="c1">New</span><span>&nbsp;operator. For example:</span></p><p class="c0"><span></span></p><p class="c5"><span class="c4">Class MyClass</span></p><p class="c5"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Field x,y,z</span></p><p class="c5"><span class="c4">End</span></p><p class="c0"><span class="c4"></span></p><p class="c5"><span class="c4">Function Main()</span></p><p class="c5"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Local myObject:=New MyClass</span></p><p class="c5 c9"><span class="c4">myObject.x=10</span></p><p class="c5 c9"><span class="c4">myObject.y=20</span></p><p class="c5 c9"><span class="c4">myObject.z=30</span></p><p class="c5"><span class="c4">End</span></p><p class="c0"><span></span></p><h4 class="c10"><a name="h.ic98yhsv72c0"></a><span class="c8 c1">Constructors</span></h4><p class="c0"><span></span></p><p class="c5"><span>Constructors are special methods that are called each time an object is created with </span><span class="c1">New</span><span>.</span></p><p class="c0"><span></span></p><p class="c5"><span>To declare a constructor, you simply declare a class method and name it </span><span class="c1">New.</span></p><p class="c0"><span></span></p><p class="c5"><span>Constructors can also take parameters and can be overloaded.</span></p><p class="c0"><span></span></p><p class="c5"><span>To invoke a super class constructor within a constructor, use the special </span><span class="c1">Super</span><span>&nbsp;variable.</span></p><h4 class="c10 c26"><a name="h.8amhsg-linfa2"></a></h4><h4 class="c10"><a name="h.bzvokp71edxe"></a><span class="c8 c1">Generic classes</span></h4><p class="c0"><span></span></p><p class="c5"><span>Generic classes are classes that take other classes as parameters.</span></p><p class="c0"><span></span></p><p class="c5"><span>Generic classes is to allow you to write classes that can more easily manage objects of differing classes, without having to know the exact class of those objects.</span></p><p class="c0"><span></span></p><p class="c5"><span>For example:<br></span></p><p class="c5"><span class="c4">Class Pointer&lt;T&gt;</span></p><p class="c5"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Method Set( data:T )</span></p><p class="c5"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_data=data</span></p><p class="c5"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;End</span></p><p class="c5"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Method Get:T()</span></p><p class="c5"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Return _data</span></p><p class="c5"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;End</span></p><p class="c5"><span class="c4">Private</span></p><p class="c5"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Field _data:T</span></p><p class="c5"><span class="c4">End</span></p><p class="c0"><span></span></p><p class="c5"><span>Here, </span><span class="c1">T</span><span>&nbsp;is what is known as a &#39;class parameter&#39;.</span></p><p class="c0"><span></span></p><p class="c5"><span>Within the declaration of class </span><span class="c1">Pointer</span><span>, </span><span class="c1">T</span><span>&nbsp;is interpreted to mean </span><span class="c1">Object</span><span>, the root object class, and can be used exactly the same way </span><span class="c1">Object</span><span>&nbsp;can - to declare variable, function parameter and return value types. In this example, the </span><span class="c1">_data</span><span>&nbsp;field and </span><span class="c1">Set</span><span>&nbsp;and </span><span class="c1">Get</span><span>&nbsp;methods all use </span><span class="c1">T</span><span>&nbsp;in this way.</span></p><p class="c0"><span></span></p><p class="c5"><span>However, when it comes to actually using a generic class, you must provide &#39;actual&#39; classes to be used in place of class parameters.</span></p><p class="c0"><span></span></p><p class="c5"><span>For example:</span></p><p class="c0"><span></span></p><p class="c5"><span class="c4">Class Actor<br>End</span></p><p class="c0"><span class="c4"></span></p><p class="c5"><span class="c4">Function Main()</span></p><p class="c5 c9"><span class="c4">Local pointer:Pointer&lt;Actor&gt;</span></p><p class="c0 c9"><span class="c4"></span></p><p class="c5 c9"><span class="c4">pointer=New Pointer&lt;Actor&gt;</span></p><p class="c0 c9"><span class="c4"></span></p><p class="c5"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pointer.Set New Actor</span></p><p class="c0"><span class="c4"></span></p><p class="c5"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Local actor:=pointer.Get()</span></p><p class="c5"><span class="c4">End</span></p><p class="c0"><span></span></p><p class="c5"><span>The syntax </span><span class="c1">Pointer&lt;Actor&gt;</span><span>&nbsp;indicates an &#39;instantiation&#39; of the generic class </span><span class="c1">Pointer&lt;T&gt;</span><span>.</span></p><p class="c0"><span></span></p><p class="c5"><span>This is in itself a unique class, so each time you use the </span><span class="c1">Pointer&lt;T&gt;</span><span>&nbsp;class with a different class for </span><span class="c1">T</span><span>, you are actually creating a whole new class.</span></p><p class="c0"><span class="c27"></span></p><p class="c5"><span>Generic classes are often used to provide &#39;container&#39; style classes such as List, Vector and Map.</span></p><p class="c0"><span></span></p><hr><p class="c0"><span></span></p><a href="#" name="id.k8t7lqq0s3cq"></a><p class="c5"><span class="c14 c1">Interfaces</span></p><p class="c0"><span></span></p><p class="c5"><span>In interface is similar to a class, except that it can only contain constants and abstract methods.</span></p><p class="c0"><span></span></p><p class="c5"><span>Classes can implement an interface using the </span><span class="c1">Implements</span><span>&nbsp;keyword in the class declaration.</span></p><p class="c0"><span></span></p><p class="c5"><span>Classes that implement an interface must declare each method declared in the interface.</span></p><p class="c0"><span></span></p><p class="c5"><span>An interface can be used where ever a class is expected, for example when declaring the types of variables, or function return types. And interface cannot however be used with </span><span class="c1">New</span><span>.</span></p><p class="c0"><span></span></p><p class="c5"><span>An Interface can also optionally extend existing interfaces, in which cases all methods in all extended interfaces must be declared by any implementing classes.</span></p><p class="c0"><span></span></p><p class="c5"><span>Interfaces can not be generic.</span></p><p class="c0"><span></span></p><p class="c5"><span>The syntax for declaring an interface is:</span></p><p class="c0"><span></span></p><p class="c5"><span class="c1">Interface</span><span>&nbsp;</span><span class="c3">identifier</span><span>&nbsp;[ </span><span class="c1">Extends</span><span>&nbsp;</span><span class="c3">Interfaces</span><span>&nbsp;]</span></p><p class="c5"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c3">...Member declarations...</span></p><p class="c5"><span class="c1">End</span></p><p class="c0"><span></span></p><p class="c5"><span>All methods declared inside an interface are automatically treated as abstract, and can therefore have no &#39;body&#39;.</span></p><p class="c0"><span></span></p><p class="c5"><span>Here is an example of using interfaces:</span></p><p class="c0"><span></span></p><p class="c5"><span class="c4">Interface Moveable</span></p><p class="c5 c9"><span class="c4">Method Move()<br>End</span></p><p class="c0"><span class="c4"></span></p><p class="c5"><span>I</span><span class="c4">nterface Drawable</span></p><p class="c5"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Method Draw()</span></p><p class="c5"><span class="c4">End</span></p><p class="c0"><span class="c4"></span></p><p class="c5"><span class="c4">Class Actor Implements Moveable,Drawable</span></p><p class="c5 c9"><span class="c4">Method Move()</span></p><p class="c5"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Print &quot;Actor.Move()&quot;</span></p><p class="c5"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;End</span></p><p class="c5"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p><p class="c5"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Method Draw()</span></p><p class="c5"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Print &quot;Actor.Draw()&quot;</span></p><p class="c5"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;End</span></p><p class="c5"><span class="c4">End</span></p><p class="c0"><span class="c4"></span></p><p class="c5"><span class="c4">Function Move( moveable:Moveable )</span></p><p class="c5"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;moveable.Move</span></p><p class="c5"><span class="c4">End</span></p><p class="c0"><span class="c4"></span></p><p class="c5"><span class="c4">Function Draw( drawable:Drawable )</span></p><p class="c5"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;drawable.Draw</span></p><p class="c5"><span class="c4">End</span></p><p class="c0"><span class="c4"></span></p><p class="c5"><span class="c4">Function Main()</span></p><p class="c0"><span class="c4"></span></p><p class="c5 c9"><span class="c4">Local actor:=New Actor</span></p><p class="c0 c9"><span class="c4"></span></p><p class="c5 c9"><span class="c4">Move actor</span></p><p class="c5 c9"><span class="c4">Draw actor</span></p><p class="c5"><span class="c4">End</span></p><p class="c0"><span></span></p><hr><a href="#" name="id.qidnll9w9seb"></a><p class="c5"><span class="c14 c1">Modules</span></p><p class="c0"><span></span></p><p class="c5"><span>A Monkey module corresponds to a single Monkey source file, and provides a named scope for the constants, globals, functions and classes declared in that file. Every Monkey source file declares a module, and every module has an associated source file.</span></p><p class="c0"><span></span></p><p class="c5"><span>The name of the module scope is the same as the name of the file (minus the directory path and file extension), so the names of Monkey source files must also be valid Monkey identifiers.</span></p><p class="c0"><span></span></p><p class="c5"><span>It is also strongly recommend that file/module names be completely lowercase - both to prevent any issues with cased/uncased filesystems and to provide consistency with the standard module set.</span></p><p class="c0"><span></span></p><p class="c5"><span>One module may import another using the import statement. All import statements must appear at the top of a module before any declarations. The syntax for an import statement is:</span></p><p class="c0"><span></span></p><p class="c5"><span class="c1">Import </span><span class="c3">ModulePath</span></p><p class="c0"><span></span></p><p class="c5"><span>Where </span><span class="c3">ModulePath</span><span>&nbsp;describes the file location of the Monkey module to import. This must be a sequence of &#39;dot&#39; separated identifiers, and is treated as a relative filesystem path with dots representing directory separators. The last component in the path represents either an actual .monkey source file, or a directory containing a .monkey source file of the same name.</span></p><p class="c0"><span></span></p><p class="c5"><span>Given a module&#39;s relative path, Monkey will look for an actual module to import in the following locations (and in this order):<br></span></p><p class="c5"><span>* The current directory - ie: the directory the importing file is in.</span></p><p class="c0"><span></span></p><p class="c5"><span>* The project directory - ie: the directory the main source file is in. This is the source file that was passed to the &#39;trans&#39; compiler, and that contains the declaration for Main().</span></p><p class="c0"><span></span></p><p class="c5"><span>* The modules directory - ie: the directory named &#39;modules&#39; in the Monkey distribution.</span></p><p class="c0"><span></span></p><p class="c5"><span>For example, given the following import directive:</span></p><p class="c0"><span></span></p><p class="c5"><span class="c4">Import myutil.mycolor</span></p><p class="c0"><span></span></p><p class="c5"><span>Monkey will first look for the files myutil/mycolor.monkey and myutil/mycolor/mycolor.monkey in the current directory.</span></p><p class="c0"><span></span></p><p class="c5"><span>(Note: the reason modules are allowed to be represented as either a single .monkey file, or as a .monkey file within a directory of the same name is a pure convenience. Sometimes it&#39;s more convenient for a module to consist of a single file, while sometimes it&#39;s more convenient for a module to have its own directory.)</span></p><p class="c0"><span></span></p><p class="c5"><span>If either is found, it is imported into the current module and the search ends.</span></p><p class="c0"><span></span></p><p class="c5"><span>If both are found, an error is generated.</span></p><p class="c0"><span></span></p><p class="c5"><span>If neither is found the search continues with the project directory and, failing that, the modules directory.</span></p><p class="c0"><span></span></p><p class="c5"><span>If the module is not found anywhere, an error is generated.</span></p><p class="c0"><span></span></p><p class="c5"><span>Once successfully imported, the importing module can access the declarations made in the imported module, by using the imported module&#39;s name as a scope.</span></p><p class="c0"><span></span></p><p class="c5"><span>Here is a simple import example:</span></p><p class="c0"><span></span></p><p class="c5"><span class="c4">&#39;----- file1.monkey -----</span></p><p class="c0"><span class="c4"></span></p><p class="c5"><span class="c4">Import file2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;after this, file2 can be used as a scope</span></p><p class="c0"><span class="c4"></span></p><p class="c5"><span class="c4">Function Main()</span></p><p class="c5"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Print file2.X&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;access global X in file2 module</span></p><p class="c5"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file2.Test&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;access function Test in file2 module</span></p><p class="c5"><span class="c4">End</span></p><p class="c0"><span class="c4"></span></p><p class="c0"><span class="c4"></span></p><p class="c5"><span class="c4">&#39;---- file2.monkey ----</span></p><p class="c0"><span class="c4"></span></p><p class="c5"><span class="c4">Global X:=1</span></p><p class="c0"><span class="c4"></span></p><p class="c5"><span class="c4">Function Test()</span></p><p class="c5"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Print &quot;file2.Test&quot;<br>End</span></p><p class="c0"><span class="c4"></span></p><p class="c5"><span>When accessing identifiers in imported modules, Monkey allows you to omit the module scope as long as there are no &#39;clashes&#39; between identifiers in multiple modules. For example:</span></p><p class="c0"><span></span></p><p class="c5"><span class="c4">&#39;----- file1.monkey ----</span></p><p class="c0"><span class="c4"></span></p><p class="c5"><span class="c4">Import file2</span></p><p class="c5"><span class="c4">Import file3</span></p><p class="c0"><span class="c4"></span></p><p class="c5"><span class="c4">Function Main()</span></p><p class="c5"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Print X&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;OK, accesses file2.X</span></p><p class="c5"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Print Y&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;OK, accesses file3.Y</span></p><p class="c5"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Test&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;ERROR! Which Test? file2.Test or file3.Test?</span></p><p class="c5"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file2.Test&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;OK, I now know which module to get Test from</span></p><p class="c5"><span class="c4">End</span></p><p class="c0"><span class="c4"></span></p><p class="c0"><span class="c4"></span></p><p class="c5"><span class="c4">&#39;----- file2.monkey &nbsp;-----</span></p><p class="c0"><span class="c4"></span></p><p class="c5"><span class="c4">Global X:=1</span></p><p class="c0"><span class="c4"></span></p><p class="c5"><span class="c4">Function Test()</span></p><p class="c5"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Print &quot;file2.Test&quot;</span></p><p class="c5"><span class="c4">End</span></p><p class="c0"><span class="c4"></span></p><p class="c0"><span class="c4"></span></p><p class="c5"><span class="c4">&#39;----- file3.monkey -----</span></p><p class="c0"><span class="c4"></span></p><p class="c5"><span class="c4">Global Y:=2</span></p><p class="c0"><span class="c4"></span></p><p class="c5"><span class="c4">Function Test()</span></p><p class="c5"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Print &quot;file3.Test&quot;</span></p><p class="c5"><span class="c4">End</span></p><p class="c0"><span></span></p><p class="c5"><span>By default, any imports made by a module are automatically made available to importers of that module. That is, if module X imports module Y, and module Y imports module Z, the result is that module X effectively imports module Z.</span></p><p class="c0"><span></span></p><p class="c5"><span>However, if an import is declared to be private, that import is NOT made available. For example:</span></p><p class="c0"><span></span></p><p class="c5"><span class="c4">&#39;----- file1.monkey -----</span></p><p class="c0"><span class="c4"></span></p><p class="c5"><span class="c4">Import file2</span></p><p class="c0"><span class="c4"></span></p><p class="c5"><span class="c4">Function Main()</span></p><p class="c5"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Print X&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;OK, accesses file2.X</span></p><p class="c5"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Print Y&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;OK, accesses file3.Y</span></p><p class="c5"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Print Z&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;ERROR! can&#39;t see file.Z</span></p><p class="c5"><span class="c4">End</span></p><p class="c0"><span class="c4"></span></p><p class="c5"><span class="c4">&#39;----- file2.monkey -----</span></p><p class="c0"><span class="c4"></span></p><p class="c5"><span class="c4">Import file3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;Public import: When you import file2, you also import file3</span></p><p class="c5"><span class="c4">Private</span></p><p class="c5"><span class="c4">Import file4&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;Private - ie: internal use only. Only file2 can access file4. &nbsp;file1 cannot access file4.</span></p><p class="c5"><span class="c4">Public</span></p><p class="c0"><span class="c4"></span></p><p class="c5"><span class="c4">Global X:=1</span></p><p class="c0"><span class="c4"></span></p><p class="c5"><span class="c4">&#39;----- file3.monkey -----</span></p><p class="c0"><span class="c4"></span></p><p class="c5"><span class="c4">Global Y:=2</span></p><p class="c0"><span class="c4"></span></p><p class="c5"><span class="c4">&#39;----- file4.monkey -----</span></p><p class="c0"><span class="c4"></span></p><p class="c5"><span class="c4">Global Z:=3</span></p><p class="c0"><span></span></p><p class="c5"><span>Modules can be stored in a directory hierarchy and imported using a &#39;dotted&#39; module path, for example:</span></p><p class="c0"><span></span></p><p class="c5"><span class="c4">&#39;----- file1.monkey -----</span></p><p class="c0"><span class="c4"></span></p><p class="c5"><span class="c4">Import file2</span></p><p class="c5"><span class="c4">Import util.file3</span></p><p class="c0"><span class="c4"></span></p><p class="c5"><span class="c4">Function Main()</span></p><p class="c5"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Print file2.X</span></p><p class="c5"><span class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Print file3.Y</span></p><p class="c5"><span class="c4">End</span></p><p class="c0"><span class="c4"></span></p><p class="c5"><span class="c4">&#39;----- util/file2.monkey ----</span></p><p class="c0"><span class="c4"></span></p><p class="c5"><span class="c4">Global X:=1</span></p><p class="c0"><span class="c4"></span></p><p class="c5"><span class="c4">&#39;----- util/file3.monkey -----</span></p><p class="c0"><span class="c4"></span></p><p class="c5"><span class="c4">Global Y:=2</span></p><p class="c0"><span></span></p><p class="c5"><span>Note that the directory path (in this case, &#39;util&#39;) is not used in any way except to locate the module. The module name is still just &#39;file3&#39; - not &#39;util.file3&#39;.</span></p><p class="c0"><span></span></p><h4 class="c10"><a name="h.a151nh3rn4ff"></a><span class="c8 c1">The Alias directive</span></h4><p class="c0"><span></span></p><p class="c5"><span>The </span><span class="c1">Alias</span><span>&nbsp;directive allows you to assign a local name to a constant, global, function or class declared in another module. This can be used to create &#39;shortcuts&#39; for clashing identifiers.</span></p><p class="c0"><span></span></p><p class="c5"><span>The syntax for </span><span class="c1">Alias</span><span>&nbsp;is:</span></p><p class="c0"><span></span></p><p class="c5"><span class="c1">Alias</span><span>&nbsp;</span><span class="c3">Identifier </span><span class="c1">= </span><span class="c3">ModulePath </span><span class="c1">. </span><span class="c3">Identifier</span></p><p class="c0"><span></span></p><p class="c5"><span>Alias directives must appear in the &#39;import&#39; section of a module, before any code.</span></p><p class="c0"><span></span></p><p class="c5"><span>For example:</span></p><p class="c0"><span></span></p><p class="c5"><span class="c4">&#39;----- file1.monkey -----</span></p><p class="c0"><span class="c4"></span></p><p class="c5"><span class="c4">Import file2</span></p><p class="c5"><span class="c4">Import file3</span></p><p class="c0"><span class="c4"></span></p><p class="c5"><span class="c4">Alias T=file2.T&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;which &#39;T&#39; to use</span></p><p class="c0"><span class="c4"></span></p><p class="c5"><span class="c4">Function Main()</span></p><p class="c5 c9"><span class="c4">Print T&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;Prints &#39;1&#39;</span></p><p class="c5"><span class="c4">End</span></p><p class="c0 c9"><span class="c4"></span></p><p class="c5"><span class="c4">&#39;----- file2.monkey -----</span></p><p class="c0"><span class="c4"></span></p><p class="c5"><span class="c4">Global T:=1</span></p><p class="c0"><span class="c4"></span></p><p class="c5"><span class="c4">&#39;----- file3.monkey -----</span></p><p class="c0"><span class="c4"></span></p><p class="c5"><span class="c4">Global T:=2</span></p><p class="c0"><span></span></p><hr><a href="#" name="id.nbp7vz76iwbz"></a><p class="c5"><span class="c14 c1">Public and Private</span></p><p class="c0"><span></span></p><p class="c5"><span>The </span><span class="c1">Public</span><span>, </span><span class="c1">Private</span><span>&nbsp;directives are used to control the visibility of subsequent declarations in a module or class.</span></p><p class="c0"><span></span></p><p class="c5"><span>If the </span><span class="c1">Public</span><span>&nbsp;directive is used in the main body of a module, all subsequent declarations will be public, and will be visible outside of the current module.</span></p><p class="c0"><span></span></p><p class="c5"><span>If the </span><span class="c1">Private</span><span>&nbsp;directive is used in the main body of a module, all subsequent declarations will be private and will not be visible outside of the current module.</span></p><p class="c0"><span></span></p><p class="c5"><span>For example:</span></p><p class="c0"><span></span></p><p class="c5"><span class="c4">Private</span></p><p class="c5"><span class="c4">Global x,y,z&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;These are private to the current module</span></p><p class="c5"><span class="c4">Public</span></p><p class="c5"><span class="c4">Global P,Q,R&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;These can be used by any module</span><span><br></span></p><p class="c5"><span>When used inside a class declaration, </span><span class="c1">Public</span><span>&nbsp;and </span><span class="c1">Private </span><span>work in a similar way to control the visibility of subsequent member declarations. For example:</span></p><p class="c0"><span></span></p><p class="c5"><span class="c4">Class MyClass</span></p><p class="c5 c9"><span class="c4">Private</span></p><p class="c5 c9"><span class="c4">Field x,y,z&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;these are NOT visible outside of this module.</span></p><p class="c5 c9"><span class="c4">Public</span></p><p class="c5 c9"><span class="c4">Field P,Q,R&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;these ARE visible outside of this module.</span></p><p class="c5"><span class="c4">End</span></p><p class="c0"><span></span></p><p class="c5"><span>Note that private class members are not private to the class, but to the entire module. This means that code outside of the class but within the same module can still access class private members.</span></p><p class="c0"><span></span></p><hr><a href="#" name="id.bmqt1k5tv2qi"></a><p class="c5"><span class="c14 c1">External declarations</span></p><p class="c0"><span></span></p><p class="c5"><span>The </span><span class="c1">Extern</span><span>&nbsp;directive is used to connect Monkey code to non-Monkey code. It lets you mix Monkey code (to be translated into the target platform language) with native target platform code.</span></p><p class="c0"><span></span></p><p class="c5"><span>When the </span><span class="c1">Extern</span><span>&nbsp;directive is used in the main body of a module, all subsequent global, function and class declarations will be treated as external declarations.</span></p><p class="c0"><span></span></p><p class="c5"><span>External declarations are assumed to be implemented elsewhere in native code, and as such may not contain a &#39;body&#39;.</span></p><p class="c0"><span></span></p><p class="c5"><span>In the case of external global variables, this means the global may not be initialized - it is assumed to be initialized by native code.</span></p><p class="c0"><span></span></p><p class="c5"><span>In the case of external functions, this means the function may not contain any code, and must not be terminated with an </span><span class="c1">End</span><span>&nbsp;directive.</span></p><p class="c0"><span></span></p><p class="c5"><span>In the case of external classes, this means any globals or methods declared in the class may not contain a &#39;body&#39; either.</span></p><p class="c0"><span></span></p><p class="c5"><span>External declarations may however by assigned a &#39;symbol&#39; in the form of a string literal. This is the native symbol to be used by the Monkey translator when the declaration is referenced by Monkey code.</span></p><p class="c0"><span></span></p><p class="c5"><span>By default, external declarations are public. You can use </span><span class="c1">Extern Private</span><span>&nbsp;to prevent external declarations from being visible outside the current module.</span></p><p class="c0"><span></span></p><p class="c5"><span>Here are some examples of using extern:</span></p><p class="c0"><span></span></p><p class="c5"><span class="c4">Extern &#39;begin external declarations</span></p><p class="c0"><span class="c4"></span></p><p class="c5"><span class="c4">Global ActiveDriver=&quot;xyzActiveDriver&quot; &nbsp;&#39;Native name of this global is xyzActiveDriver</span></p><p class="c0"><span class="c4"></span></p><p class="c5"><span class="c4">Class Driver=&quot;xyzDriver&quot; &nbsp; &#39;The native name of this class is &#39;xyzDriver&#39;.</span></p><p class="c0"><span class="c4"></span></p><p class="c5"><span class="c4">&nbsp; Method Method1() &nbsp; &nbsp;&#39;By default, native name is same as declaration name - Method1 here.</span></p><p class="c0"><span class="c4"></span></p><p class="c5"><span class="c4">&nbsp; Method Method2()&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;native name is Method2</span></p><p class="c0"><span class="c4"></span></p><p class="c5"><span class="c4">End</span></p><p class="c0"><span class="c4"></span></p><p class="c5"><span class="c4">Public&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#39;return to public declarations</span></p><p class="c0"><span class="c4"></span></p><hr><a href="#" name="id.9v5yflbc2keu"></a><p class="c5"><span class="c14 c1">The preprocessor</span></p><p class="c0"><span class="c14 c1"></span></p><p class="c5"><span>Monkey contains a very simple built-in preprocessor based on the syntax of the Monkey </span><span class="c1">If</span><span>&nbsp;statement that allows you to enable or disable blocks of code from being generated or translated, based on certain conditions.</span></p><p class="c0"><span></span></p><p class="c5"><span>The following preprocessor directives are supported:</span></p><p class="c0"><span></span></p><p class="c5"><span class="c1">#If</span></p><p class="c5"><span class="c1">#Else If</span></p><p class="c5"><span class="c1">#Else</span></p><p class="c5"><span class="c1">#End</span></p><p class="c5"><span class="c1">#Rem</span></p><p class="c5"><span class="c1">#Print</span></p><p class="c5"><span class="c1">#Error</span></p><p class="c0"><span></span></p><p class="c5"><span>Preprocessor directives must appear at the start of a line, and may be preceded by optional whitespace.</span></p><p class="c0"><span></span></p><p class="c5"><span>The </span><span class="c1">#If</span><span>&nbsp;and </span><span class="c1">#Else If</span><span>&nbsp;directives must be followed by a constant Monkey expression. If this expression evaluates to true, then code generation is enabled, otherwise it is disabled.</span></p><p class="c0"><span></span></p><p class="c5"><span>The following build in constants may be used in preprocessor expressions:</span></p><table cellpadding="0" cellspacing="0" class="c15"><tbody><tr class="c2"><td class="c13"><p class="c6"><span>Constant</span></p></td><td class="c13"><p class="c6"><span>Possible values</span></p></td></tr><tr class="c2"><td class="c13"><p class="c6"><span class="c1">HOST</span></p></td><td class="c13"><p class="c6"><span class="c1">winnt macos</span></p></td></tr><tr class="c2"><td class="c13"><p class="c6"><span class="c1">LANG</span></p></td><td class="c13"><p class="c6"><span class="c1">js as cs java cpp</span></p></td></tr><tr class="c2"><td class="c13"><p class="c6"><span class="c1">TARGET</span></p></td><td class="c13"><p class="c6"><span class="c1">html5 flash xna android ios glfw stdcpp</span></p></td></tr><tr><td class="c13"><p class="c6"><span class="c1">CONFIG</span></p></td><td class="c13"><p class="c6"><span class="c1">debug release</span></p></td></tr></tbody></table><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c5"><span>The </span><span class="c1">#Rem</span><span>&nbsp;directive is exactly the same as </span><span class="c1">#If False</span><span>&nbsp;- it unconditionally disables code generation. Note that this allows &#39;block rems&#39; to be &#39;nested&#39;.</span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p></body></html>